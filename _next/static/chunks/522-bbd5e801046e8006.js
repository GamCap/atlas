(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[522],{4307:function(t,e,n){"use strict";n.r(e),n.d(e,{Headers:function(){return s},Request:function(){return o},Response:function(){return a},fetch:function(){return i}});var r=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw Error("unable to locate global object")}();let i=r.fetch;e.default=r.fetch.bind(r);let s=r.Headers,o=r.Request,a=r.Response},6781:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});let i=r(n(4307)),s=r(n(7960));class o{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:"undefined"==typeof fetch?this.fetch=i.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(t,e){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async t=>{var e,n,r;let i=null,o=null,a=null,u=t.status,l=t.statusText;if(t.ok){if("HEAD"!==this.method){let e=await t.text();""===e||(o="text/csv"===this.headers.Accept?e:this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?e:JSON.parse(e))}let r=null===(e=this.headers.Prefer)||void 0===e?void 0:e.match(/count=(exact|planned|estimated)/),s=null===(n=t.headers.get("content-range"))||void 0===n?void 0:n.split("/");r&&s&&s.length>1&&(a=parseInt(s[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(o)&&(o.length>1?(i={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,a=null,u=406,l="Not Acceptable"):o=1===o.length?o[0]:null)}else{let e=await t.text();try{i=JSON.parse(e),Array.isArray(i)&&404===t.status&&(o=[],i=null,u=200,l="OK")}catch(n){404===t.status&&""===e?(u=204,l="No Content"):i={message:e}}if(i&&this.isMaybeSingle&&(null===(r=null==i?void 0:i.details)||void 0===r?void 0:r.includes("0 rows"))&&(i=null,u=200,l="OK"),i&&this.shouldThrowOnError)throw new s.default(i)}return{error:i,data:o,count:a,status:u,statusText:l}});return this.shouldThrowOnError||(n=n.catch(t=>{var e,n,r;return{error:{message:`${null!==(e=null==t?void 0:t.name)&&void 0!==e?e:"FetchError"}: ${null==t?void 0:t.message}`,details:`${null!==(n=null==t?void 0:t.stack)&&void 0!==n?n:""}`,hint:"",code:`${null!==(r=null==t?void 0:t.code)&&void 0!==r?r:""}`},data:null,count:null,status:0,statusText:""}})),n.then(t,e)}}e.default=o},8895:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});let i=r(n(9660)),s=r(n(3287)),o=n(1395);class a{constructor(t,{headers:e={},schema:n,fetch:r}={}){this.url=t,this.headers=Object.assign(Object.assign({},o.DEFAULT_HEADERS),e),this.schemaName=n,this.fetch=r}from(t){let e=new URL(`${this.url}/${t}`);return new i.default(e,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new a(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,e={},{head:n=!1,get:r=!1,count:i}={}){let o,a;let u=new URL(`${this.url}/rpc/${t}`);n||r?(o=n?"HEAD":"GET",Object.entries(e).filter(([t,e])=>void 0!==e).map(([t,e])=>[t,Array.isArray(e)?`{${e.join(",")}}`:`${e}`]).forEach(([t,e])=>{u.searchParams.append(t,e)})):(o="POST",a=e);let l=Object.assign({},this.headers);return i&&(l.Prefer=`count=${i}`),new s.default({method:o,url:u,headers:l,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}}e.default=a},7960:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class n extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}e.default=n},3287:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});let i=r(n(3432));class s extends i.default{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}in(t,e){let n=Array.from(new Set(e)).map(t=>"string"==typeof t&&RegExp("[,()]").test(t)?`"${t}"`:`${t}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,e){return"string"==typeof e?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return"string"==typeof e?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return"string"==typeof e?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let i="";"plain"===r?i="pl":"phrase"===r?i="ph":"websearch"===r&&(i="w");let s=void 0===n?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${s}.${e}`),this}match(t){return Object.entries(t).forEach(([t,e])=>{this.url.searchParams.append(t,`eq.${e}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){let r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}}e.default=s},9660:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});let i=r(n(3287));class s{constructor(t,{headers:e={},schema:n,fetch:r}){this.url=t,this.headers=e,this.schema=n,this.fetch=r}select(t,{head:e=!1,count:n}={}){let r=!1,s=(null!=t?t:"*").split("").map(t=>/\s/.test(t)&&!r?"":('"'===t&&(r=!r),t)).join("");return this.url.searchParams.set("select",s),n&&(this.headers.Prefer=`count=${n}`),new i.default({method:e?"HEAD":"GET",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:e,defaultToNull:n=!0}={}){let r=[];if(this.headers.Prefer&&r.push(this.headers.Prefer),e&&r.push(`count=${e}`),n||r.push("missing=default"),this.headers.Prefer=r.join(","),Array.isArray(t)){let e=t.reduce((t,e)=>t.concat(Object.keys(e)),[]);if(e.length>0){let t=[...new Set(e)].map(t=>`"${t}"`);this.url.searchParams.set("columns",t.join(","))}}return new i.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){let o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(void 0!==e&&this.url.searchParams.set("on_conflict",e),this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push(`count=${r}`),s||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){let e=t.reduce((t,e)=>t.concat(Object.keys(e)),[]);if(e.length>0){let t=[...new Set(e)].map(t=>`"${t}"`);this.url.searchParams.set("columns",t.join(","))}}return new i.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:e}={}){let n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),e&&n.push(`count=${e}`),this.headers.Prefer=n.join(","),new i.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){let e=[];return t&&e.push(`count=${t}`),this.headers.Prefer&&e.unshift(this.headers.Prefer),this.headers.Prefer=e.join(","),new i.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}e.default=s},3432:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});let i=r(n(6781));class s extends i.default{select(t){let e=!1,n=(null!=t?t:"*").split("").map(t=>/\s/.test(t)&&!e?"":('"'===t&&(e=!e),t)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){let s=i?`${i}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${void 0===n?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){let r=void 0===n?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){let i=void 0===r?"offset":`${r}.offset`,s=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(s,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:s="text"}={}){var o;let a=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=null!==(o=this.headers.Accept)&&void 0!==o?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${u}"; options=${a};`,this}rollback(){var t;return(null!==(t=this.headers.Prefer)&&void 0!==t?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}e.default=s},1395:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_HEADERS=void 0;let r=n(4373);e.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${r.version}`}},8292:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PostgrestBuilder=e.PostgrestTransformBuilder=e.PostgrestFilterBuilder=e.PostgrestQueryBuilder=e.PostgrestClient=void 0;let i=r(n(8895));e.PostgrestClient=i.default;let s=r(n(9660));e.PostgrestQueryBuilder=s.default;let o=r(n(3287));e.PostgrestFilterBuilder=o.default;let a=r(n(3432));e.PostgrestTransformBuilder=a.default;let u=r(n(6781));e.PostgrestBuilder=u.default,e.default={PostgrestClient:i.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:u.default}},4373:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.version=void 0,e.version="0.0.0-automated"},4593:function(t,e,n){"use strict";n.d(e,{eI:function(){return eC}});let r=t=>{let e;return t?e=t:"undefined"==typeof fetch?e=(...t)=>Promise.resolve().then(n.bind(n,4307)).then(({default:e})=>e(...t)):e=fetch,(...t)=>e(...t)};class i extends Error{constructor(t,e="FunctionsError",n){super(t),this.name=e,this.context=n}}class s extends i{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class o extends i{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class a extends i{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}(z=F||(F={})).Any="any",z.ApNortheast1="ap-northeast-1",z.ApNortheast2="ap-northeast-2",z.ApSouth1="ap-south-1",z.ApSoutheast1="ap-southeast-1",z.ApSoutheast2="ap-southeast-2",z.CaCentral1="ca-central-1",z.EuCentral1="eu-central-1",z.EuWest1="eu-west-1",z.EuWest2="eu-west-2",z.EuWest3="eu-west-3",z.SaEast1="sa-east-1",z.UsEast1="us-east-1",z.UsWest1="us-west-1",z.UsWest2="us-west-2";class u{constructor(t,{headers:e={},customFetch:n,region:i=F.Any}={}){this.url=t,this.headers=e,this.region=i,this.fetch=r(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,e={}){var n,r,i,u,l;return r=this,i=void 0,u=void 0,l=function*(){try{let r;let{headers:i,method:u,body:l}=e,c={},{region:h}=e;h||(h=this.region),h&&"any"!==h&&(c["x-region"]=h),l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&("undefined"!=typeof Blob&&l instanceof Blob||l instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",r=l):"string"==typeof l?(c["Content-Type"]="text/plain",r=l):"undefined"!=typeof FormData&&l instanceof FormData?r=l:(c["Content-Type"]="application/json",r=JSON.stringify(l)));let d=yield this.fetch(`${this.url}/${t}`,{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:r}).catch(t=>{throw new s(t)}),f=d.headers.get("x-relay-error");if(f&&"true"===f)throw new o(d);if(!d.ok)throw new a(d);let p=(null!==(n=d.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return{data:"application/json"===p?yield d.json():"application/octet-stream"===p?yield d.blob():"text/event-stream"===p?d:"multipart/form-data"===p?yield d.formData():yield d.text(),error:null}}catch(t){return{data:null,error:t}}},new(u||(u=Promise))(function(t,e){function n(t){try{o(l.next(t))}catch(t){e(t)}}function s(t){try{o(l.throw(t))}catch(t){e(t)}}function o(e){var r;e.done?t(e.value):((r=e.value)instanceof u?r:new u(function(t){t(r)})).then(n,s)}o((l=l.apply(r,i||[])).next())})}}let{PostgrestClient:l,PostgrestQueryBuilder:c,PostgrestFilterBuilder:h,PostgrestTransformBuilder:d,PostgrestBuilder:f}=n(8292),p={"X-Client-Info":"realtime-js/2.10.2"};(W=B||(B={}))[W.connecting=0]="connecting",W[W.open=1]="open",W[W.closing=2]="closing",W[W.closed=3]="closed",(Q=q||(q={})).closed="closed",Q.errored="errored",Q.joined="joined",Q.joining="joining",Q.leaving="leaving",(tt=Z||(Z={})).close="phx_close",tt.error="phx_error",tt.join="phx_join",tt.reply="phx_reply",tt.leave="phx_leave",tt.access_token="access_token",(H||(H={})).websocket="websocket",(te=Y||(Y={})).Connecting="connecting",te.Open="open",te.Closing="closing",te.Closed="closed";class g{constructor(){this.HEADER_LENGTH=1}decode(t,e){return t.constructor===ArrayBuffer?e(this._binaryDecode(t)):"string"==typeof t?e(JSON.parse(t)):e({})}_binaryDecode(t){let e=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,e,n)}_decodeBroadcast(t,e,n){let r=e.getUint8(1),i=e.getUint8(2),s=this.HEADER_LENGTH+2,o=n.decode(t.slice(s,s+r));s+=r;let a=n.decode(t.slice(s,s+i));return s+=i,{ref:null,topic:o,event:a,payload:JSON.parse(n.decode(t.slice(s,t.byteLength)))}}}class m{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}(tn=J||(J={})).abstime="abstime",tn.bool="bool",tn.date="date",tn.daterange="daterange",tn.float4="float4",tn.float8="float8",tn.int2="int2",tn.int4="int4",tn.int4range="int4range",tn.int8="int8",tn.int8range="int8range",tn.json="json",tn.jsonb="jsonb",tn.money="money",tn.numeric="numeric",tn.oid="oid",tn.reltime="reltime",tn.text="text",tn.time="time",tn.timestamp="timestamp",tn.timestamptz="timestamptz",tn.timetz="timetz",tn.tsrange="tsrange",tn.tstzrange="tstzrange";let v=(t,e,n={})=>{var r;let i=null!==(r=n.skipTypes)&&void 0!==r?r:[];return Object.keys(e).reduce((n,r)=>(n[r]=y(r,t,e,i),n),{})},y=(t,e,n,r)=>{let i=e.find(e=>e.name===t),s=null==i?void 0:i.type,o=n[t];return s&&!r.includes(s)?_(s,o):w(o)},_=(t,e)=>{if("_"===t.charAt(0))return T(e,t.slice(1,t.length));switch(t){case J.bool:return b(e);case J.float4:case J.float8:case J.int2:case J.int4:case J.int8:case J.numeric:case J.oid:return k(e);case J.json:case J.jsonb:return x(e);case J.timestamp:return S(e);case J.abstime:case J.date:case J.daterange:case J.int4range:case J.int8range:case J.money:case J.reltime:case J.text:case J.time:case J.timestamptz:case J.timetz:case J.tsrange:case J.tstzrange:default:return w(e)}},w=t=>t,b=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},k=t=>{if("string"==typeof t){let e=parseFloat(t);if(!Number.isNaN(e))return e}return t},x=t=>{if("string"==typeof t)try{return JSON.parse(t)}catch(t){console.log(`JSON parse error: ${t}`)}return t},T=(t,e)=>{if("string"!=typeof t)return t;let n=t.length-1,r=t[n];if("{"===t[0]&&"}"===r){let r;let i=t.slice(1,n);try{r=JSON.parse("["+i+"]")}catch(t){r=i?i.split(","):[]}return r.map(t=>_(e,t))}return t},S=t=>"string"==typeof t?t.replace(" ","T"):t,E=t=>{let e=t;return(e=(e=e.replace(/^ws/i,"http")).replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,"")).replace(/\/+$/,"")};class ${constructor(t,e,n={},r=1e4){this.channel=t,this.event=e,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,e){var n;return this._hasReceived(t)&&e(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:t,callback:e}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(t,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:e}){this.recHooks.filter(e=>e.status===t).forEach(t=>t.callback(e))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}(tr=G||(G={})).SYNC="sync",tr.JOIN="join",tr.LEAVE="leave";class A{constructor(t,e){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let n=(null==e?void 0:e.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},t=>{let{onJoin:e,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=A.syncState(this.state,t,e,n),this.pendingDiffs.forEach(t=>{this.state=A.syncDiff(this.state,t,e,n)}),this.pendingDiffs=[],r()}),this.channel._on(n.diff,{},t=>{let{onJoin:e,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(t):(this.state=A.syncDiff(this.state,t,e,n),r())}),this.onJoin((t,e,n)=>{this.channel._trigger("presence",{event:"join",key:t,currentPresences:e,newPresences:n})}),this.onLeave((t,e,n)=>{this.channel._trigger("presence",{event:"leave",key:t,currentPresences:e,leftPresences:n})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,e,n,r){let i=this.cloneDeep(t),s=this.transformState(e),o={},a={};return this.map(i,(t,e)=>{s[t]||(a[t]=e)}),this.map(s,(t,e)=>{let n=i[t];if(n){let r=e.map(t=>t.presence_ref),i=n.map(t=>t.presence_ref),s=e.filter(t=>0>i.indexOf(t.presence_ref)),u=n.filter(t=>0>r.indexOf(t.presence_ref));s.length>0&&(o[t]=s),u.length>0&&(a[t]=u)}else o[t]=e}),this.syncDiff(i,{joins:o,leaves:a},n,r)}static syncDiff(t,e,n,r){let{joins:i,leaves:s}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(i,(e,r)=>{var i;let s=null!==(i=t[e])&&void 0!==i?i:[];if(t[e]=this.cloneDeep(r),s.length>0){let n=t[e].map(t=>t.presence_ref),r=s.filter(t=>0>n.indexOf(t.presence_ref));t[e].unshift(...r)}n(e,s,r)}),this.map(s,(e,n)=>{let i=t[e];if(!i)return;let s=n.map(t=>t.presence_ref);i=i.filter(t=>0>s.indexOf(t.presence_ref)),t[e]=i,r(e,i,n),0===i.length&&delete t[e]}),t}static map(t,e){return Object.getOwnPropertyNames(t).map(n=>e(n,t[n]))}static transformState(t){return Object.getOwnPropertyNames(t=this.cloneDeep(t)).reduce((e,n)=>{let r=t[n];return"metas"in r?e[n]=r.metas.map(t=>(t.presence_ref=t.phx_ref,delete t.phx_ref,delete t.phx_ref_prev,t)):e[n]=r,e},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}(ti=K||(K={})).ALL="*",ti.INSERT="INSERT",ti.UPDATE="UPDATE",ti.DELETE="DELETE",(ts=V||(V={})).BROADCAST="broadcast",ts.PRESENCE="presence",ts.POSTGRES_CHANGES="postgres_changes",(to=X||(X={})).SUBSCRIBED="SUBSCRIBED",to.TIMED_OUT="TIMED_OUT",to.CLOSED="CLOSED",to.CHANNEL_ERROR="CHANNEL_ERROR";class C{constructor(t,e={config:{}},n){this.topic=t,this.params=e,this.socket=n,this.bindings={},this.state=q.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new $(this,Z.join,this.params,this.timeout),this.rejoinTimer=new m(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=q.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(t=>t.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=q.closed,this.socket._remove(this)}),this._onError(t=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,t),this.state=q.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=q.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Z.reply,{},(t,e)=>{this._trigger(this._replyEventName(e),t)}),this.presence=new A(this),this.broadcastEndpointURL=E(this.socket.endPoint)+"/api/broadcast"}subscribe(t,e=this.timeout){var n,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:i,presence:s,private:o}}=this.params;this._onError(e=>t&&t("CHANNEL_ERROR",e)),this._onClose(()=>t&&t("CLOSED"));let a={},u={broadcast:i,presence:s,postgres_changes:null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map(t=>t.filter))&&void 0!==r?r:[],private:o};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:u},a)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",({postgres_changes:e})=>{var n;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),void 0===e){t&&t("SUBSCRIBED");return}{let r=this.bindings.postgres_changes,i=null!==(n=null==r?void 0:r.length)&&void 0!==n?n:0,s=[];for(let n=0;n<i;n++){let i=r[n],{filter:{event:o,schema:a,table:u,filter:l}}=i,c=e&&e[n];if(c&&c.event===o&&c.schema===a&&c.table===u&&c.filter===l)s.push(Object.assign(Object.assign({},i),{id:c.id}));else{this.unsubscribe(),t&&t("CHANNEL_ERROR",Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=s,t&&t("SUBSCRIBED");return}}).receive("error",e=>{t&&t("CHANNEL_ERROR",Error(JSON.stringify(Object.values(e).join(", ")||"error")))}).receive("timeout",()=>{t&&t("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(t,e={}){return await this.send({type:"presence",event:"track",payload:t},e.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,e,n){return this._on(t,e,n)}async send(t,e={}){var n,r;if(this._canPush()||"broadcast"!==t.type)return new Promise(n=>{var r,i,s;let o=this._push(t.type,t,e.timeout||this.timeout);"broadcast"!==t.type||(null===(s=null===(i=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===i?void 0:i.broadcast)||void 0===s?void 0:s.ack)||n("ok"),o.receive("ok",()=>n("ok")),o.receive("error",()=>n("error")),o.receive("timeout",()=>n("timed out"))});{let{event:i,payload:s}=t,o={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s}]})};try{let t=await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!==(n=e.timeout)&&void 0!==n?n:this.timeout);return await (null===(r=t.body)||void 0===r?void 0:r.cancel()),t.ok?"ok":"error"}catch(t){if("AbortError"===t.name)return"timed out";return"error"}}}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=q.leaving;let e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Z.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{let r=new $(this,Z.leave,{},t);r.receive("ok",()=>{e(),n("ok")}).receive("timeout",()=>{e(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}async _fetchWithTimeout(t,e,n){let r=new AbortController,i=setTimeout(()=>r.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},e),{signal:r.signal}));return clearTimeout(i),s}_push(t,e,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new $(this,t,e,n);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(t,e,n){return e}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,e,n){var r,i;let s=t.toLocaleLowerCase(),{close:o,error:a,leave:u,join:l}=Z;if(n&&[o,a,u,l].indexOf(s)>=0&&n!==this._joinRef())return;let c=this._onMessage(s,e,n);if(e&&!c)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter(t=>{var e,n,r;return(null===(e=t.filter)||void 0===e?void 0:e.event)==="*"||(null===(r=null===(n=t.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===s}).map(t=>t.callback(c,n)):null===(i=this.bindings[s])||void 0===i||i.filter(t=>{var n,r,i,o,a,u;if(!["broadcast","presence","postgres_changes"].includes(s))return t.type.toLocaleLowerCase()===s;if("id"in t){let s=t.id,o=null===(n=t.filter)||void 0===n?void 0:n.event;return s&&(null===(r=e.ids)||void 0===r?void 0:r.includes(s))&&("*"===o||(null==o?void 0:o.toLocaleLowerCase())===(null===(i=e.data)||void 0===i?void 0:i.type.toLocaleLowerCase()))}{let n=null===(a=null===(o=null==t?void 0:t.filter)||void 0===o?void 0:o.event)||void 0===a?void 0:a.toLocaleLowerCase();return"*"===n||n===(null===(u=null==e?void 0:e.event)||void 0===u?void 0:u.toLocaleLowerCase())}}).map(t=>{if("object"==typeof c&&"ids"in c){let t=c.data,{schema:e,table:n,commit_timestamp:r,type:i,errors:s}=t;c=Object.assign(Object.assign({},{schema:e,table:n,commit_timestamp:r,eventType:i,new:{},old:{},errors:s}),this._getPayloadRecords(t))}t.callback(c,n)})}_isClosed(){return this.state===q.closed}_isJoined(){return this.state===q.joined}_isJoining(){return this.state===q.joining}_isLeaving(){return this.state===q.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,e,n){let r=t.toLocaleLowerCase(),i={type:r,filter:e,callback:n};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(t,e){let n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(t=>{var r;return!((null===(r=t.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&C.isEqual(t.filter,e))}),this}static isEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let n in t)if(t[n]!==e[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Z.close,{},t)}_onError(t){this._on(Z.error,{},e=>t(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=q.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let e={new:{},old:{}};return("INSERT"===t.type||"UPDATE"===t.type)&&(e.new=v(t.columns,t.record)),("UPDATE"===t.type||"DELETE"===t.type)&&(e.old=v(t.columns,t.old_record)),e}}let P=()=>{},j="undefined"!=typeof WebSocket;class O{constructor(t,e){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=p,this.params={},this.timeout=1e4,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=P,this.conn=null,this.sendBuffer=[],this.serializer=new g,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=t=>{let e;return t?e=t:"undefined"==typeof fetch?e=(...t)=>Promise.resolve().then(n.bind(n,4307)).then(({default:e})=>e(...t)):e=fetch,(...t)=>e(...t)},this.endPoint=`${t}/${H.websocket}`,this.httpEndpoint=E(t),(null==e?void 0:e.transport)?this.transport=e.transport:this.transport=null,(null==e?void 0:e.params)&&(this.params=e.params),(null==e?void 0:e.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),e.headers)),(null==e?void 0:e.timeout)&&(this.timeout=e.timeout),(null==e?void 0:e.logger)&&(this.logger=e.logger),(null==e?void 0:e.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=e.heartbeatIntervalMs);let i=null===(r=null==e?void 0:e.params)||void 0===r?void 0:r.apikey;i&&(this.accessToken=i,this.apiKey=i),this.reconnectAfterMs=(null==e?void 0:e.reconnectAfterMs)?e.reconnectAfterMs:t=>[1e3,2e3,5e3,1e4][t-1]||1e4,this.encode=(null==e?void 0:e.encode)?e.encode:(t,e)=>e(JSON.stringify(t)),this.decode=(null==e?void 0:e.decode)?e.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new m(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(null==e?void 0:e.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(j){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new M(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),n.e(35).then(n.t.bind(n,7035,23)).then(({default:t})=>{this.conn=new t(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(t,e){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,null!=e?e:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){let e=await t.unsubscribe();return 0===this.channels.length&&this.disconnect(),e}async removeAllChannels(){let t=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),t}log(t,e,n){this.logger(t,e,n)}connectionState(){switch(this.conn&&this.conn.readyState){case B.connecting:return Y.Connecting;case B.open:return Y.Open;case B.closing:return Y.Closing;default:return Y.Closed}}isConnected(){return this.connectionState()===Y.Open}channel(t,e={config:{}}){let n=new C(`realtime:${t}`,e,this);return this.channels.push(n),n}push(t){let{topic:e,event:n,payload:r,ref:i}=t,s=()=>{this.encode(t,t=>{var e;null===(e=this.conn)||void 0===e||e.send(t)})};this.log("push",`${e} ${n} (${i})`,r),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(t){this.accessToken=t,this.channels.forEach(e=>{t&&e.updateJoinPayload({access_token:t}),e.joinedOnce&&e._isJoined()&&e._push(Z.access_token,{access_token:t})})}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let e=this.channels.find(e=>e.topic===t&&(e._isJoined()||e._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${t}"`),e.unsubscribe())}_remove(t){this.channels=this.channels.filter(e=>e._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}_onConnMessage(t){this.decode(t.data,t=>{let{topic:e,event:n,payload:r,ref:i}=t;(i&&i===this.pendingHeartbeatRef||n===(null==r?void 0:r.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${r.status||""} ${e} ${n} ${i&&"("+i+")"||""}`,r),this.channels.filter(t=>t._isMember(e)).forEach(t=>t._trigger(n,r,i)),this.stateChangeCallbacks.message.forEach(e=>e(t))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(e=>e(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(e=>e(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Z.error))}_appendParams(t,e){if(0===Object.keys(e).length)return t;let n=t.match(/\?/)?"&":"?",r=new URLSearchParams(e);return`${t}${n}${r}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),null===(t=this.conn)||void 0===t||t.close(1e3,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class M{constructor(t,e,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=B.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class R extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function U(t){return"object"==typeof t&&null!==t&&"__isStorageError"in t}class N extends R{constructor(t,e){super(t),this.name="StorageApiError",this.status=e}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class I extends R{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}}let D=t=>{let e;return t?e=t:"undefined"==typeof fetch?e=(...t)=>Promise.resolve().then(n.bind(n,4307)).then(({default:e})=>e(...t)):e=fetch,(...t)=>e(...t)},L=()=>{var t,e,r,i;return t=void 0,e=void 0,r=void 0,i=function*(){return"undefined"==typeof Response?(yield Promise.resolve().then(n.bind(n,4307))).Response:Response},new(r||(r=Promise))(function(n,s){function o(t){try{u(i.next(t))}catch(t){s(t)}}function a(t){try{u(i.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?n(t.value):((e=t.value)instanceof r?e:new r(function(t){t(e)})).then(o,a)}u((i=i.apply(t,e||[])).next())})};var z,F,B,q,Z,H,Y,J,G,K,V,X,W,Q,tt,te,tn,tr,ti,ts,to,ta=function(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{u(r.next(t))}catch(t){s(t)}}function a(t){try{u(r.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(o,a)}u((r=r.apply(t,e||[])).next())})};let tu=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),tl=(t,e)=>ta(void 0,void 0,void 0,function*(){t instanceof(yield L())?t.json().then(n=>{e(new N(tu(n),t.status||500))}).catch(t=>{e(new I(tu(t),t))}):e(new I(tu(t),t))}),tc=(t,e,n,r)=>{let i={method:t,headers:(null==e?void 0:e.headers)||{}};return"GET"===t?i:(i.headers=Object.assign({"Content-Type":"application/json"},null==e?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};function th(t,e,n,r,i,s){return ta(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,tc(e,r,i,s)).then(t=>{if(!t.ok)throw t;return(null==r?void 0:r.noResolveJson)?t:t.json()}).then(t=>o(t)).catch(t=>tl(t,a))})})}function td(t,e,n,r){return ta(this,void 0,void 0,function*(){return th(t,"GET",e,n,r)})}function tf(t,e,n,r,i){return ta(this,void 0,void 0,function*(){return th(t,"POST",e,r,i,n)})}function tp(t,e,n,r,i){return ta(this,void 0,void 0,function*(){return th(t,"DELETE",e,r,i,n)})}var tg=function(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{u(r.next(t))}catch(t){s(t)}}function a(t){try{u(r.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(o,a)}u((r=r.apply(t,e||[])).next())})};let tm={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},tv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ty{constructor(t,e={},n,r){this.url=t,this.headers=e,this.bucketId=n,this.fetch=D(r)}uploadOrUpdate(t,e,n,r){return tg(this,void 0,void 0,function*(){try{let i;let s=Object.assign(Object.assign({},tv),r),o=Object.assign(Object.assign({},this.headers),"POST"===t&&{"x-upsert":String(s.upsert)});"undefined"!=typeof Blob&&n instanceof Blob?((i=new FormData).append("cacheControl",s.cacheControl),i.append("",n)):"undefined"!=typeof FormData&&n instanceof FormData?(i=n).append("cacheControl",s.cacheControl):(i=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType);let a=this._removeEmptyFolders(e),u=this._getFinalPath(a),l=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:i,headers:o},(null==s?void 0:s.duplex)?{duplex:s.duplex}:{})),c=yield l.json();if(l.ok)return{data:{path:a,id:c.Id,fullPath:c.Key},error:null};return{data:null,error:c}}catch(t){if(U(t))return{data:null,error:t};throw t}})}upload(t,e,n){return tg(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,e,n)})}uploadToSignedUrl(t,e,n,r){return tg(this,void 0,void 0,function*(){let i=this._removeEmptyFolders(t),s=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",e);try{let t;let e=Object.assign({upsert:tv.upsert},r),s=Object.assign(Object.assign({},this.headers),{"x-upsert":String(e.upsert)});"undefined"!=typeof Blob&&n instanceof Blob?((t=new FormData).append("cacheControl",e.cacheControl),t.append("",n)):"undefined"!=typeof FormData&&n instanceof FormData?(t=n).append("cacheControl",e.cacheControl):(t=n,s["cache-control"]=`max-age=${e.cacheControl}`,s["content-type"]=e.contentType);let a=yield this.fetch(o.toString(),{method:"PUT",body:t,headers:s}),u=yield a.json();if(a.ok)return{data:{path:i,fullPath:u.Key},error:null};return{data:null,error:u}}catch(t){if(U(t))return{data:null,error:t};throw t}})}createSignedUploadUrl(t,e){return tg(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t),r=Object.assign({},this.headers);(null==e?void 0:e.upsert)&&(r["x-upsert"]="true");let i=yield tf(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:r}),s=new URL(this.url+i.url),o=s.searchParams.get("token");if(!o)throw new R("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:o},error:null}}catch(t){if(U(t))return{data:null,error:t};throw t}})}update(t,e,n){return tg(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,e,n)})}move(t,e,n){return tg(this,void 0,void 0,function*(){try{return{data:yield tf(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:null==n?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(t){if(U(t))return{data:null,error:t};throw t}})}copy(t,e,n){return tg(this,void 0,void 0,function*(){try{return{data:{path:(yield tf(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:null==n?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(t){if(U(t))return{data:null,error:t};throw t}})}createSignedUrl(t,e,n){return tg(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),i=yield tf(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:e},(null==n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers}),s=(null==n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return{data:i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},error:null}}catch(t){if(U(t))return{data:null,error:t};throw t}})}createSignedUrls(t,e,n){return tg(this,void 0,void 0,function*(){try{let r=yield tf(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:t},{headers:this.headers}),i=(null==n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return{data:r.map(t=>Object.assign(Object.assign({},t),{signedUrl:t.signedURL?encodeURI(`${this.url}${t.signedURL}${i}`):null})),error:null}}catch(t){if(U(t))return{data:null,error:t};throw t}})}download(t,e){return tg(this,void 0,void 0,function*(){let n=void 0!==(null==e?void 0:e.transform),r=this.transformOptsToQueryString((null==e?void 0:e.transform)||{}),i=r?`?${r}`:"";try{let e=this._getFinalPath(t),r=yield td(this.fetch,`${this.url}/${n?"render/image/authenticated":"object"}/${e}${i}`,{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(t){if(U(t))return{data:null,error:t};throw t}})}getPublicUrl(t,e){let n=this._getFinalPath(t),r=[],i=(null==e?void 0:e.download)?`download=${!0===e.download?"":e.download}`:"";""!==i&&r.push(i);let s=void 0!==(null==e?void 0:e.transform),o=this.transformOptsToQueryString((null==e?void 0:e.transform)||{});""!==o&&r.push(o);let a=r.join("&");return""!==a&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${s?"render/image":"object"}/public/${n}${a}`)}}}remove(t){return tg(this,void 0,void 0,function*(){try{return{data:yield tp(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(t){if(U(t))return{data:null,error:t};throw t}})}list(t,e,n){return tg(this,void 0,void 0,function*(){try{let r=Object.assign(Object.assign(Object.assign({},tm),e),{prefix:t||""});return{data:yield tf(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(t){if(U(t))return{data:null,error:t};throw t}})}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){let e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}}let t_={"X-Client-Info":"storage-js/2.6.0"};var tw=function(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{u(r.next(t))}catch(t){s(t)}}function a(t){try{u(r.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(o,a)}u((r=r.apply(t,e||[])).next())})};class tb{constructor(t,e={},n){this.url=t,this.headers=Object.assign(Object.assign({},t_),e),this.fetch=D(n)}listBuckets(){return tw(this,void 0,void 0,function*(){try{return{data:yield td(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(U(t))return{data:null,error:t};throw t}})}getBucket(t){return tw(this,void 0,void 0,function*(){try{return{data:yield td(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(t){if(U(t))return{data:null,error:t};throw t}})}createBucket(t,e={public:!1}){return tw(this,void 0,void 0,function*(){try{return{data:yield tf(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(t){if(U(t))return{data:null,error:t};throw t}})}updateBucket(t,e){return tw(this,void 0,void 0,function*(){try{return{data:yield function(t,e,n,r,i){return ta(this,void 0,void 0,function*(){return th(t,"PUT",e,r,void 0,n)})}(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(t){if(U(t))return{data:null,error:t};throw t}})}emptyBucket(t){return tw(this,void 0,void 0,function*(){try{return{data:yield tf(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(U(t))return{data:null,error:t};throw t}})}deleteBucket(t){return tw(this,void 0,void 0,function*(){try{return{data:yield tp(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(t){if(U(t))return{data:null,error:t};throw t}})}}class tk extends tb{constructor(t,e={},n){super(t,e,n)}from(t){return new ty(this.url,this.headers,t,this.fetch)}}let tx="";"undefined"!=typeof Deno?tx="deno":"undefined"!=typeof document?tx="web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?tx="react-native":tx="node";let tT={headers:{"X-Client-Info":`supabase-js-${tx}/2.45.1`}},tS={schema:"public"},tE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t$={};var tA=n(4307);let tC=t=>{let e;return t?e=t:"undefined"==typeof fetch?e=tA.default:e=fetch,(...t)=>e(...t)},tP=()=>"undefined"==typeof Headers?tA.Headers:Headers,tj=(t,e,n)=>{let r=tC(n),i=tP();return(n,s)=>{var o,a,u,l;return o=void 0,a=void 0,u=void 0,l=function*(){var o;let a=null!==(o=yield e())&&void 0!==o?o:t,u=new i(null==s?void 0:s.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${a}`),r(n,Object.assign(Object.assign({},s),{headers:u}))},new(u||(u=Promise))(function(t,e){function n(t){try{i(l.next(t))}catch(t){e(t)}}function r(t){try{i(l.throw(t))}catch(t){e(t)}}function i(e){var i;e.done?t(e.value):((i=e.value)instanceof u?i:new u(function(t){t(i)})).then(n,r)}i((l=l.apply(o,a||[])).next())})}},tO="2.64.4",tM={"X-Client-Info":`gotrue-js/${tO}`},tR="X-Supabase-Api-Version",tU={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},tN=()=>"undefined"!=typeof document,tI={tested:!1,writable:!1},tD=()=>{if(!tN())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(t){return!1}if(tI.tested)return tI.writable;let t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),tI.tested=!0,tI.writable=!0}catch(t){tI.tested=!0,tI.writable=!1}return tI.writable};function tL(t){let e={},n=new URL(t);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach((t,n)=>{e[n]=t})}catch(t){}return n.searchParams.forEach((t,n)=>{e[n]=t}),e}let tz=t=>{let e;return t?e=t:"undefined"==typeof fetch?e=(...t)=>Promise.resolve().then(n.bind(n,4307)).then(({default:e})=>e(...t)):e=fetch,(...t)=>e(...t)},tF=t=>"object"==typeof t&&null!==t&&"status"in t&&"ok"in t&&"json"in t&&"function"==typeof t.json,tB=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},tq=async(t,e)=>{let n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch(t){return n}},tZ=async(t,e)=>{await t.removeItem(e)};class tH{constructor(){this.promise=new tH.promiseConstructor((t,e)=>{this.resolve=t,this.reject=e})}}function tY(t){let e=t.split(".");if(3!==e.length)throw Error("JWT is not valid: not a JWT structure");if(!/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i.test(e[1]))throw Error("JWT is not valid: payload is not in base64url format");return JSON.parse(function(t){let e,n,r,i,s,o,a;let u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="",c=0;for(t=t.replace("-","+").replace("_","/");c<t.length;)i=u.indexOf(t.charAt(c++)),s=u.indexOf(t.charAt(c++)),o=u.indexOf(t.charAt(c++)),a=u.indexOf(t.charAt(c++)),e=i<<2|s>>4,n=(15&s)<<4|o>>2,r=(3&o)<<6|a,l+=String.fromCharCode(e),64!=o&&0!=n&&(l+=String.fromCharCode(n)),64!=a&&0!=r&&(l+=String.fromCharCode(r));return l}(e[1]))}async function tJ(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function tG(t){return("0"+t.toString(16)).substr(-2)}async function tK(t){let e=new TextEncoder().encode(t);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",e))).map(t=>String.fromCharCode(t)).join("")}async function tV(t){return"undefined"!=typeof crypto&&void 0!==crypto.subtle&&"undefined"!=typeof TextEncoder?btoa(await tK(t)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):(console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t)}async function tX(t,e,n=!1){let r=function(){let t=new Uint32Array(56);if("undefined"==typeof crypto){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",e=t.length,n="";for(let r=0;r<56;r++)n+=t.charAt(Math.floor(Math.random()*e));return n}return crypto.getRandomValues(t),Array.from(t,tG).join("")}(),i=r;n&&(i+="/PASSWORD_RECOVERY"),await tB(t,`${e}-code-verifier`,i);let s=await tV(r),o=r===s?"plain":"s256";return[s,o]}tH.promiseConstructor=Promise;let tW=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;class tQ extends Error{constructor(t,e,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=n}}function t0(t){return"object"==typeof t&&null!==t&&"__isAuthError"in t}class t1 extends tQ{constructor(t,e,n){super(t,e,n),this.name="AuthApiError",this.status=e,this.code=n}}class t2 extends tQ{constructor(t,e){super(t),this.name="AuthUnknownError",this.originalError=e}}class t3 extends tQ{constructor(t,e,n,r){super(t,n,r),this.name=e,this.status=n}}class t4 extends t3{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class t5 extends t3{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class t6 extends t3{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class t7 extends t3{constructor(t,e=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class t8 extends t3{constructor(t,e=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class t9 extends t3{constructor(t,e){super(t,"AuthRetryableFetchError",e,void 0)}}function et(t){return t0(t)&&"AuthRetryableFetchError"===t.name}class ee extends t3{constructor(t,e,n){super(t,"AuthWeakPasswordError",e,"weak_password"),this.reasons=n}}var en=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&0>e.indexOf(r)&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)0>e.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};let er=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ei=[502,503,504];async function es(t){var e;let n,r;if(!tF(t))throw new t9(er(t),0);if(ei.includes(t.status))throw new t9(er(t),t.status);try{n=await t.json()}catch(t){throw new t2(er(t),t)}let i=function(t){let e=t.headers.get(tR);if(!e||!e.match(tW))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch(t){return null}}(t);if(i&&i.getTime()>=tU["2024-01-01"].timestamp&&"object"==typeof n&&n&&"string"==typeof n.code?r=n.code:"object"==typeof n&&n&&"string"==typeof n.error_code&&(r=n.error_code),r){if("weak_password"===r)throw new ee(er(n),t.status,(null===(e=n.weak_password)||void 0===e?void 0:e.reasons)||[])}else if("object"==typeof n&&n&&"object"==typeof n.weak_password&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((t,e)=>t&&"string"==typeof e,!0))throw new ee(er(n),t.status,n.weak_password.reasons);throw new t1(er(n),t.status||500,r)}let eo=(t,e,n,r)=>{let i={method:t,headers:(null==e?void 0:e.headers)||{}};return"GET"===t?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==e?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function ea(t,e,n,r){var i;let s=Object.assign({},null==r?void 0:r.headers);s[tR]||(s[tR]=tU["2024-01-01"].name),(null==r?void 0:r.jwt)&&(s.Authorization=`Bearer ${r.jwt}`);let o=null!==(i=null==r?void 0:r.query)&&void 0!==i?i:{};(null==r?void 0:r.redirectTo)&&(o.redirect_to=r.redirectTo);let a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await eu(t,e,n+a,{headers:s,noResolveJson:null==r?void 0:r.noResolveJson},{},null==r?void 0:r.body);return(null==r?void 0:r.xform)?null==r?void 0:r.xform(u):{data:Object.assign({},u),error:null}}async function eu(t,e,n,r,i,s){let o;let a=eo(e,r,i,s);try{o=await t(n,Object.assign({},a))}catch(t){throw console.error(t),new t9(er(t),0)}if(o.ok||await es(o),null==r?void 0:r.noResolveJson)return o;try{return await o.json()}catch(t){await es(t)}}function el(t){var e,n;let r=null;return t.access_token&&t.refresh_token&&t.expires_in&&(r=Object.assign({},t),!t.expires_at)&&(r.expires_at=(n=t.expires_in,Math.round(Date.now()/1e3)+n)),{data:{session:r,user:null!==(e=t.user)&&void 0!==e?e:t},error:null}}function ec(t){let e=el(t);return!e.error&&t.weak_password&&"object"==typeof t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&"string"==typeof t.weak_password.message&&t.weak_password.reasons.reduce((t,e)=>t&&"string"==typeof e,!0)&&(e.data.weak_password=t.weak_password),e}function eh(t){var e;return{data:{user:null!==(e=t.user)&&void 0!==e?e:t},error:null}}function ed(t){return{data:t,error:null}}function ef(t){let{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t;return{data:{properties:{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},user:Object.assign({},en(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]))},error:null}}function ep(t){return t}var eg=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&0>e.indexOf(r)&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)0>e.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class em{constructor({url:t="",headers:e={},fetch:n}){this.url=t,this.headers=e,this.fetch=tz(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,e="global"){try{return await ea(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(t){if(t0(t))return{data:null,error:t};throw t}}async inviteUserByEmail(t,e={}){try{return await ea(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:eh})}catch(t){if(t0(t))return{data:{user:null},error:t};throw t}}async generateLink(t){try{let{options:e}=t,n=eg(t,["options"]),r=Object.assign(Object.assign({},n),e);return"newEmail"in n&&(r.new_email=null==n?void 0:n.newEmail,delete r.newEmail),await ea(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:ef,redirectTo:null==e?void 0:e.redirectTo})}catch(t){if(t0(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(t){try{return await ea(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:eh})}catch(t){if(t0(t))return{data:{user:null},error:t};throw t}}async listUsers(t){var e,n,r,i,s,o,a;try{let u={nextPage:null,lastPage:0,total:0},l=await ea(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(e=null==t?void 0:t.page)||void 0===e?void 0:e.toString())&&void 0!==n?n:"",per_page:null!==(i=null===(r=null==t?void 0:t.perPage)||void 0===r?void 0:r.toString())&&void 0!==i?i:""},xform:ep});if(l.error)throw l.error;let c=await l.json(),h=null!==(s=l.headers.get("x-total-count"))&&void 0!==s?s:0,d=null!==(a=null===(o=l.headers.get("link"))||void 0===o?void 0:o.split(","))&&void 0!==a?a:[];return d.length>0&&(d.forEach(t=>{let e=parseInt(t.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(t.split(";")[1].split("=")[1]);u[`${n}Page`]=e}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},c),u),error:null}}catch(t){if(t0(t))return{data:{users:[]},error:t};throw t}}async getUserById(t){try{return await ea(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:eh})}catch(t){if(t0(t))return{data:{user:null},error:t};throw t}}async updateUserById(t,e){try{return await ea(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:e,headers:this.headers,xform:eh})}catch(t){if(t0(t))return{data:{user:null},error:t};throw t}}async deleteUser(t,e=!1){try{return await ea(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:e},xform:eh})}catch(t){if(t0(t))return{data:{user:null},error:t};throw t}}async _listFactors(t){try{let{data:e,error:n}=await ea(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:t=>({data:{factors:t},error:null})});return{data:e,error:n}}catch(t){if(t0(t))return{data:null,error:t};throw t}}async _deleteFactor(t){try{return{data:await ea(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(t){if(t0(t))return{data:null,error:t};throw t}}}let ev={getItem:t=>tD()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{tD()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{tD()&&globalThis.localStorage.removeItem(t)}};function ey(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}let e_={debug:!!(globalThis&&tD()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"))};class ew extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class eb extends ew{}async function ek(t,e,n){e_.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);let r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),e_.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await globalThis.navigator.locks.request(t,0===e?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async r=>{if(r){e_.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,r.name);try{return await n()}finally{e_.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,r.name)}}else{if(0===e)throw e_.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new eb(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(e_.debug)try{let t=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(t,null,"  "))}catch(t){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",t)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(t){"undefined"!=typeof self&&(self.globalThis=self)}}();let ex={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:tM,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function eT(t,e,n){return await n()}class eS{constructor(t){var e,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=eS.nextInstanceID,eS.nextInstanceID+=1,this.instanceID>0&&tN()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let r=Object.assign(Object.assign({},ex),t);if(this.logDebugMessages=!!r.debug,"function"==typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new em({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=tz(r.fetch),this.lock=r.lock||eT,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:tN()&&(null===(e=null==globalThis?void 0:globalThis.navigator)||void 0===e?void 0:e.locks)?this.lock=ek:this.lock=eT,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:tD()?this.storage=ev:(this.memoryStorage={},this.storage=ey(this.memoryStorage)):(this.memoryStorage={},this.storage=ey(this.memoryStorage)),tN()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(t){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",t)}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",async t=>{this._debug("received broadcast notification from other tab or client",t),await this._notifyAllSubscribers(t.data.event,t.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${tO}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){try{let t=!!tN()&&await this._isPKCEFlow();if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){let{data:e,error:n}=await this._getSessionFromURL(t);if(n){if(this._debug("#_initialize()","error detecting session from URL",n),(null==n?void 0:n.message)==="Identity is already linked"||(null==n?void 0:n.message)==="Identity is already linked to another user")return{error:n};return await this._removeSession(),{error:n}}let{session:r,redirectType:i}=e;return this._debug("#_initialize()","detected session in URL",r,"redirect type",i),await this._saveSession(r),setTimeout(async()=>{"recovery"===i?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){if(t0(t))return{error:t};return{error:new t2("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var e,n,r;try{let{data:i,error:s}=await ea(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(n=null===(e=null==t?void 0:t.options)||void 0===e?void 0:e.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(r=null==t?void 0:t.options)||void 0===r?void 0:r.captchaToken}},xform:el});if(s||!i)return{data:{user:null,session:null},error:s};let o=i.session,a=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:a,session:o},error:null}}catch(t){if(t0(t))return{data:{user:null,session:null},error:t};throw t}}async signUp(t){var e,n,r;try{let i;if("email"in t){let{email:n,password:r,options:s}=t,o=null,a=null;"pkce"===this.flowType&&([o,a]=await tX(this.storage,this.storageKey)),i=await ea(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==s?void 0:s.emailRedirectTo,body:{email:n,password:r,data:null!==(e=null==s?void 0:s.data)&&void 0!==e?e:{},gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken},code_challenge:o,code_challenge_method:a},xform:el})}else if("phone"in t){let{phone:e,password:s,options:o}=t;i=await ea(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:e,password:s,data:null!==(n=null==o?void 0:o.data)&&void 0!==n?n:{},channel:null!==(r=null==o?void 0:o.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null==o?void 0:o.captchaToken}},xform:el})}else throw new t6("You must provide either an email or phone number and a password");let{data:s,error:o}=i;if(o||!s)return{data:{user:null,session:null},error:o};let a=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(t){if(t0(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithPassword(t){try{let e;if("email"in t){let{email:n,password:r,options:i}=t;e=await ea(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:ec})}else if("phone"in t){let{phone:n,password:r,options:i}=t;e=await ea(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:ec})}else throw new t6("You must provide either an email or phone number and a password");let{data:n,error:r}=e;if(r)return{data:{user:null,session:null},error:r};if(!n||!n.session||!n.user)return{data:{user:null,session:null},error:new t5};return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r}}catch(t){if(t0(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(t){var e,n,r,i;return await this._handleProviderSignIn(t.provider,{redirectTo:null===(e=t.options)||void 0===e?void 0:e.redirectTo,scopes:null===(n=t.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=t.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(i=t.options)||void 0===i?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){let e=await tq(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(null!=e?e:"").split("/"),{data:i,error:s}=await ea(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:el});return(await tZ(this.storage,`${this.storageKey}-code-verifier`),s)?{data:{user:null,session:null,redirectType:null},error:s}:i&&i.session&&i.user?(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:null!=r?r:null}),error:s}):{data:{user:null,session:null,redirectType:null},error:new t5}}async signInWithIdToken(t){try{let{options:e,provider:n,token:r,access_token:i,nonce:s}=t,{data:o,error:a}=await ea(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:null==e?void 0:e.captchaToken}},xform:el});if(a)return{data:{user:null,session:null},error:a};if(!o||!o.session||!o.user)return{data:{user:null,session:null},error:new t5};return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:a}}catch(t){if(t0(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(t){var e,n,r,i,s;try{if("email"in t){let{email:r,options:i}=t,s=null,o=null;"pkce"===this.flowType&&([s,o]=await tX(this.storage,this.storageKey));let{error:a}=await ea(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:r,data:null!==(e=null==i?void 0:i.data)&&void 0!==e?e:{},create_user:null===(n=null==i?void 0:i.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken},code_challenge:s,code_challenge_method:o},redirectTo:null==i?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}if("phone"in t){let{phone:e,options:n}=t,{data:o,error:a}=await ea(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:e,data:null!==(r=null==n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(i=null==n?void 0:n.shouldCreateUser)||void 0===i||i,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken},channel:null!==(s=null==n?void 0:n.channel)&&void 0!==s?s:"sms"}});return{data:{user:null,session:null,messageId:null==o?void 0:o.message_id},error:a}}throw new t6("You must provide either an email or phone number.")}catch(t){if(t0(t))return{data:{user:null,session:null},error:t};throw t}}async verifyOtp(t){var e,n;try{let r,i;"options"in t&&(r=null===(e=t.options)||void 0===e?void 0:e.redirectTo,i=null===(n=t.options)||void 0===n?void 0:n.captchaToken);let{data:s,error:o}=await ea(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:el});if(o)throw o;if(!s)throw Error("An error occurred on token verification.");let a=s.session,u=s.user;return(null==a?void 0:a.access_token)&&(await this._saveSession(a),await this._notifyAllSubscribers("recovery"==t.type?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(t){if(t0(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithSSO(t){var e,n,r;try{let i=null,s=null;return"pkce"===this.flowType&&([i,s]=await tX(this.storage,this.storageKey)),await ea(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:null!==(n=null===(e=t.options)||void 0===e?void 0:e.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null==t?void 0:t.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:s}),headers:this.headers,xform:ed})}catch(t){if(t0(t))return{data:null,error:t};throw t}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{let{data:{session:e},error:n}=t;if(n)throw n;if(!e)throw new t4;let{error:r}=await ea(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:e.access_token});return{data:{user:null,session:null},error:r}})}catch(t){if(t0(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{let e=`${this.url}/resend`;if("email"in t){let{email:n,type:r,options:i}=t,{error:s}=await ea(this.fetch,"POST",e,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},redirectTo:null==i?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:s}}if("phone"in t){let{phone:n,type:r,options:i}=t,{data:s,error:o}=await ea(this.fetch,"POST",e,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:null==s?void 0:s.message_id},error:o}}throw new t6("You must provide either an email or phone number and a type")}catch(t){if(t0(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(t,e){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){let t=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await t,await e()))();return this.pendingInLock.push((async()=>{try{await n}catch(t){}})()),n}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let t=e();for(this.pendingInLock.push((async()=>{try{await t}catch(t){}})()),await t;this.pendingInLock.length;){let t=[...this.pendingInLock];await Promise.all(t),this.pendingInLock.splice(0,t.length)}return await t}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{let e=await this.__loadSession();return await t(e)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",Error().stack);try{let t=null,e=await tq(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",e),null!==e&&(this._isValidSession(e)?t=e:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};let n=!!t.expires_at&&t.expires_at<=Date.now()/1e3;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let e=this.suppressGetSessionWarning;t=new Proxy(t,{get:(t,n,r)=>(e||"user"!==n||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e=!0,this.suppressGetSessionWarning=!0),Reflect.get(t,n,r))})}return{data:{session:t},error:null}}let{session:r,error:i}=await this._callRefreshToken(t.refresh_token);if(i)return{data:{session:null},error:i};return{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{if(t)return await ea(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:eh});return await this._useSession(async t=>{var e,n,r;let{data:i,error:s}=t;if(s)throw s;return(null===(e=i.session)||void 0===e?void 0:e.access_token)||this.hasCustomAuthorizationHeader?await ea(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(r=null===(n=i.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,xform:eh}):{data:{user:null},error:new t4}})}catch(t){if(t0(t))return{data:{user:null},error:t};throw t}}async updateUser(t,e={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,e))}async _updateUser(t,e={}){try{return await this._useSession(async n=>{let{data:r,error:i}=n;if(i)throw i;if(!r.session)throw new t4;let s=r.session,o=null,a=null;"pkce"===this.flowType&&null!=t.email&&([o,a]=await tX(this.storage,this.storageKey));let{data:u,error:l}=await ea(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==e?void 0:e.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:a}),jwt:s.access_token,xform:eh});if(l)throw l;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(t){if(t0(t))return{data:{user:null},error:t};throw t}}_decodeJWT(t){return tY(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new t4;let e=Date.now()/1e3,n=e,r=!0,i=null,s=tY(t.access_token);if(s.exp&&(r=(n=s.exp)<=e),r){let{session:e,error:n}=await this._callRefreshToken(t.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!e)return{data:{user:null,session:null},error:null};i=e}else{let{data:r,error:s}=await this._getUser(t.access_token);if(s)throw s;i={access_token:t.access_token,refresh_token:t.refresh_token,user:r.user,token_type:"bearer",expires_in:n-e,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(t){if(t0(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async e=>{var n;if(!t){let{data:r,error:i}=e;if(i)throw i;t=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null==t?void 0:t.refresh_token))throw new t4;let{session:r,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(t0(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(t){try{if(!tN())throw new t7("No browser detected.");if("implicit"!==this.flowType||this._isImplicitGrantFlow()){if("pkce"==this.flowType&&!t)throw new t8("Not a valid PKCE flow url.")}else throw new t7("Not a valid implicit grant flow url.");let e=tL(window.location.href);if(t){if(!e.code)throw new t8("No code detected.");let{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;let r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}if(e.error||e.error_description||e.error_code)throw new t7(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});let{provider_token:n,provider_refresh_token:r,access_token:i,refresh_token:s,expires_in:o,expires_at:a,token_type:u}=e;if(!i||!o||!s||!u)throw new t7("No session defined in URL");let l=Math.round(Date.now()/1e3),c=parseInt(o),h=l+c;a&&(h=parseInt(a));let d=h-l;1e3*d<=3e4&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${c}s`);let f=h-c;l-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,h,l):l-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",f,h,l);let{data:p,error:g}=await this._getUser(i);if(g)throw g;let m={provider_token:n,provider_refresh_token:r,access_token:i,expires_in:c,expires_at:h,refresh_token:s,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:e.type},error:null}}catch(t){if(t0(t))return{data:{session:null,redirectType:null},error:t};throw t}}_isImplicitGrantFlow(){let t=tL(window.location.href);return!!(tN()&&(t.access_token||t.error_description))}async _isPKCEFlow(){let t=tL(window.location.href),e=await tq(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&e)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async e=>{var n;let{data:r,error:i}=e;if(i)return{error:i};let s=null===(n=r.session)||void 0===n?void 0:n.access_token;if(s){let{error:e}=await this.admin.signOut(s,t);if(e&&!(t0(e)&&"AuthApiError"===e.name&&(404===e.status||401===e.status||403===e.status)))return{error:e}}return"others"!==t&&(await this._removeSession(),await tZ(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(t){let e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){let e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}),n={id:e,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",e),this.stateChangeEmitters.delete(e)}};return this._debug("#onAuthStateChange()","registered callback with id",e),this.stateChangeEmitters.set(e,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(e)})})(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async e=>{var n,r;try{let{data:{session:r},error:i}=e;if(i)throw i;await (null===(n=this.stateChangeEmitters.get(t))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",t,"session",r)}catch(e){await (null===(r=this.stateChangeEmitters.get(t))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",e),console.error(e)}})}async resetPasswordForEmail(t,e={}){let n=null,r=null;"pkce"===this.flowType&&([n,r]=await tX(this.storage,this.storageKey,!0));try{return await ea(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:e.captchaToken}},headers:this.headers,redirectTo:e.redirectTo})}catch(t){if(t0(t))return{data:null,error:t};throw t}}async getUserIdentities(){var t;try{let{data:e,error:n}=await this.getUser();if(n)throw n;return{data:{identities:null!==(t=e.user.identities)&&void 0!==t?t:[]},error:null}}catch(t){if(t0(t))return{data:null,error:t};throw t}}async linkIdentity(t){var e;try{let{data:n,error:r}=await this._useSession(async e=>{var n,r,i,s,o;let{data:a,error:u}=e;if(u)throw u;let l=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:null===(n=t.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=t.options)||void 0===r?void 0:r.scopes,queryParams:null===(i=t.options)||void 0===i?void 0:i.queryParams,skipBrowserRedirect:!0});return await ea(this.fetch,"GET",l,{headers:this.headers,jwt:null!==(o=null===(s=a.session)||void 0===s?void 0:s.access_token)&&void 0!==o?o:void 0})});if(r)throw r;return!tN()||(null===(e=t.options)||void 0===e?void 0:e.skipBrowserRedirect)||window.location.assign(null==n?void 0:n.url),{data:{provider:t.provider,url:null==n?void 0:n.url},error:null}}catch(e){if(t0(e))return{data:{provider:t.provider,url:null},error:e};throw e}}async unlinkIdentity(t){try{return await this._useSession(async e=>{var n,r;let{data:i,error:s}=e;if(s)throw s;return await ea(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:null!==(r=null===(n=i.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})})}catch(t){if(t0(t))return{data:null,error:t};throw t}}async _refreshAccessToken(t){let e=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(e,"begin");try{var n,r;let i=Date.now();return await (n=async n=>(n>0&&await tJ(200*Math.pow(2,n-1)),this._debug(e,"refreshing attempt",n),await ea(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:el})),r=(t,e)=>e&&et(e)&&Date.now()+200*Math.pow(2,t)-i<3e4,new Promise((t,e)=>{(async()=>{for(let i=0;i<1/0;i++)try{let e=await n(i);if(!r(i,null,e)){t(e);return}}catch(t){if(!r(i,t)){e(t);return}}})()}))}catch(t){if(this._debug(e,"error",t),t0(t))return{data:{session:null,user:null},error:t};throw t}finally{this._debug(e,"end")}}_isValidSession(t){return"object"==typeof t&&null!==t&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,e){let n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:e.redirectTo,scopes:e.scopes,queryParams:e.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",e,"url",n),tN()&&!e.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;let e="#_recoverAndRefresh()";this._debug(e,"begin");try{let n=await tq(this.storage,this.storageKey);if(this._debug(e,"session from storage",n),!this._isValidSession(n)){this._debug(e,"session is not valid"),null!==n&&await this._removeSession();return}let r=Math.round(Date.now()/1e3),i=(null!==(t=n.expires_at)&&void 0!==t?t:1/0)<r+10;if(this._debug(e,`session has${i?"":" not"} expired with margin of 10s`),i){if(this.autoRefreshToken&&n.refresh_token){let{error:t}=await this._callRefreshToken(n.refresh_token);t&&(console.error(t),et(t)||(this._debug(e,"refresh failed with a non-retryable error, removing the session",t),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(t){this._debug(e,"error",t),console.error(t);return}finally{this._debug(e,"end")}}async _callRefreshToken(t){var e,n;if(!t)throw new t4;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let r=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new tH;let{data:e,error:n}=await this._refreshAccessToken(t);if(n)throw n;if(!e.session)throw new t4;await this._saveSession(e.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",e.session);let r={session:e.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(t){if(this._debug(r,"error",t),t0(t)){let n={session:null,error:t};return et(t)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),null===(e=this.refreshingDeferred)||void 0===e||e.resolve(n),n}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(t),t}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(t,e,n=!0){let r=`#_notifyAllSubscribers(${t})`;this._debug(r,"begin",e,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:e});let r=[],i=Array.from(this.stateChangeEmitters.values()).map(async n=>{try{await n.callback(t,e)}catch(t){r.push(t)}});if(await Promise.all(i),r.length>0){for(let t=0;t<r.length;t+=1)console.error(r[t]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await tB(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await tZ(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&tN()&&(null==window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let t=setInterval(()=>this._autoRefreshTokenTick(),3e4);this.autoRefreshTicker=t,t&&"object"==typeof t&&"function"==typeof t.unref?t.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let t=Date.now();try{return await this._useSession(async e=>{let{data:{session:n}}=e;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let r=Math.floor((1e3*n.expires_at-t)/3e4);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),r<=3&&await this._callRefreshToken(n.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ew)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!tN()||!(null==window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null==window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){let e=`#_onVisibilityChanged(${t})`;this._debug(e,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if("visible"!==document.visibilityState){this._debug(e,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,e,n){let r=[`provider=${encodeURIComponent(e)}`];if((null==n?void 0:n.redirectTo)&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),(null==n?void 0:n.scopes)&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),"pkce"===this.flowType){let[t,e]=await tX(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:`${encodeURIComponent(t)}`,code_challenge_method:`${encodeURIComponent(e)}`});r.push(n.toString())}if(null==n?void 0:n.queryParams){let t=new URLSearchParams(n.queryParams);r.push(t.toString())}return(null==n?void 0:n.skipBrowserRedirect)&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${r.join("&")}`}async _unenroll(t){try{return await this._useSession(async e=>{var n;let{data:r,error:i}=e;return i?{data:null,error:i}:await ea(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:null===(n=null==r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(t0(t))return{data:null,error:t};throw t}}async _enroll(t){try{return await this._useSession(async e=>{var n,r;let{data:i,error:s}=e;if(s)return{data:null,error:s};let{data:o,error:a}=await ea(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:t.friendlyName,factor_type:t.factorType,issuer:t.issuer},headers:this.headers,jwt:null===(n=null==i?void 0:i.session)||void 0===n?void 0:n.access_token});return a?{data:null,error:a}:((null===(r=null==o?void 0:o.totp)||void 0===r?void 0:r.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})})}catch(t){if(t0(t))return{data:null,error:t};throw t}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async e=>{var n;let{data:r,error:i}=e;if(i)return{data:null,error:i};let{data:s,error:o}=await ea(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:null===(n=null==r?void 0:r.session)||void 0===n?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})})}catch(t){if(t0(t))return{data:null,error:t};throw t}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async e=>{var n;let{data:r,error:i}=e;return i?{data:null,error:i}:await ea(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{headers:this.headers,jwt:null===(n=null==r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(t0(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(t){let{data:e,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:e.id,code:t.code})}async _listFactors(){let{data:{user:t},error:e}=await this.getUser();if(e)return{data:null,error:e};let n=(null==t?void 0:t.factors)||[],r=n.filter(t=>"totp"===t.factor_type&&"verified"===t.status);return{data:{all:n,totp:r},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var e,n;let{data:{session:r},error:i}=t;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let s=this._decodeJWT(r.access_token),o=null;s.aal&&(o=s.aal);let a=o;return(null!==(n=null===(e=r.user.factors)||void 0===e?void 0:e.filter(t=>"verified"===t.status))&&void 0!==n?n:[]).length>0&&(a="aal2"),{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:s.amr||[]},error:null}}))}}eS.nextInstanceID=0;var eE=eS;class e$ extends eE{constructor(t){super(t)}}class eA{constructor(t,e,n){var r,i,s;if(this.supabaseUrl=t,this.supabaseKey=e,!t)throw Error("supabaseUrl is required.");if(!e)throw Error("supabaseKey is required.");let o=t.replace(/\/$/,"");this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;let a=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u=function(t,e){let{db:n,auth:r,realtime:i,global:s}=t,{db:o,auth:a,realtime:u,global:l}=e,c={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},u),i),global:Object.assign(Object.assign({},l),s),accessToken:()=>{var t,e,n,r;return t=this,e=void 0,r=function*(){return""},new(n=void 0,n=Promise)(function(i,s){function o(t){try{u(r.next(t))}catch(t){s(t)}}function a(t){try{u(r.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(o,a)}u((r=r.apply(t,e||[])).next())})}};return t.accessToken?c.accessToken=t.accessToken:delete c.accessToken,c}(null!=n?n:{},{db:tS,realtime:t$,auth:Object.assign(Object.assign({},tE),{storageKey:a}),global:tT});this.storageKey=null!==(r=u.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(i=u.global.headers)&&void 0!==i?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(t,e)=>{throw Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(e)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(s=u.auth)&&void 0!==s?s:{},this.headers,u.global.fetch),this.fetch=tj(e,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},u.realtime)),this.rest=new l(`${o}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new u(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new tk(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,e,n,r,i,s;return n=this,r=void 0,i=void 0,s=function*(){if(this.accessToken)return yield this.accessToken();let{data:n}=yield this.auth.getSession();return null!==(e=null===(t=n.session)||void 0===t?void 0:t.access_token)&&void 0!==e?e:null},new(i||(i=Promise))(function(t,e){function o(t){try{u(s.next(t))}catch(t){e(t)}}function a(t){try{u(s.throw(t))}catch(t){e(t)}}function u(e){var n;e.done?t(e.value):((n=e.value)instanceof i?n:new i(function(t){t(n)})).then(o,a)}u((s=s.apply(n,r||[])).next())})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,storageKey:i,flowType:s,lock:o,debug:a},u,l){var c;let h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new e$({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,flowType:s,lock:o,debug:a,fetch:l,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new O(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},null==t?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",null==e?void 0:e.access_token)})}_handleTokenChanged(t,e,n){("TOKEN_REFRESHED"===t||"SIGNED_IN"===t)&&this.changedAccessToken!==n?(this.realtime.setAuth(null!=n?n:null),this.changedAccessToken=n):"SIGNED_OUT"===t&&(this.realtime.setAuth(this.supabaseKey),"STORAGE"==e&&this.auth.signOut(),this.changedAccessToken=void 0)}}let eC=(t,e,n)=>new eA(t,e,n)},6800:function(t,e){var n;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var t="",e=0;e<arguments.length;e++){var n=arguments[e];n&&(t=s(t,function(t){if("string"==typeof t||"number"==typeof t)return t;if("object"!=typeof t)return"";if(Array.isArray(t))return i.apply(null,t);if(t.toString!==Object.prototype.toString&&!t.toString.toString().includes("[native code]"))return t.toString();var e="";for(var n in t)r.call(t,n)&&t[n]&&(e=s(e,n));return e}(n)))}return t}function s(t,e){return e?t?t+" "+e:t+e:t}t.exports?(i.default=i,t.exports=i):void 0!==(n=(function(){return i}).apply(e,[]))&&(t.exports=n)}()},8719:function(t,e,n){"use strict";function r(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function i(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function s(){}n.d(e,{ZP:function(){return _},B8:function(){return k}});var o="\\s*([+-]?\\d+)\\s*",a="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",u="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",l=/^#([0-9a-f]{3,8})$/,c=RegExp(`^rgb\\(${o},${o},${o}\\)$`),h=RegExp(`^rgb\\(${u},${u},${u}\\)$`),d=RegExp(`^rgba\\(${o},${o},${o},${a}\\)$`),f=RegExp(`^rgba\\(${u},${u},${u},${a}\\)$`),p=RegExp(`^hsl\\(${a},${u},${u}\\)$`),g=RegExp(`^hsla\\(${a},${u},${u},${a}\\)$`),m={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function v(){return this.rgb().formatHex()}function y(){return this.rgb().formatRgb()}function _(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=l.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?w(e):3===n?new x(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?b(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?b(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=c.exec(t))?new x(e[1],e[2],e[3],1):(e=h.exec(t))?new x(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=d.exec(t))?b(e[1],e[2],e[3],e[4]):(e=f.exec(t))?b(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=p.exec(t))?C(e[1],e[2]/100,e[3]/100,1):(e=g.exec(t))?C(e[1],e[2]/100,e[3]/100,e[4]):m.hasOwnProperty(t)?w(m[t]):"transparent"===t?new x(NaN,NaN,NaN,0):null}function w(t){return new x(t>>16&255,t>>8&255,255&t,1)}function b(t,e,n,r){return r<=0&&(t=e=n=NaN),new x(t,e,n,r)}function k(t,e,n,r){var i;return 1==arguments.length?((i=t)instanceof s||(i=_(i)),i)?new x((i=i.rgb()).r,i.g,i.b,i.opacity):new x:new x(t,e,n,null==r?1:r)}function x(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function T(){return`#${A(this.r)}${A(this.g)}${A(this.b)}`}function S(){let t=E(this.opacity);return`${1===t?"rgb(":"rgba("}${$(this.r)}, ${$(this.g)}, ${$(this.b)}${1===t?")":`, ${t})`}`}function E(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function $(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function A(t){return((t=$(t))<16?"0":"")+t.toString(16)}function C(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new j(t,e,n,r)}function P(t){if(t instanceof j)return new j(t.h,t.s,t.l,t.opacity);if(t instanceof s||(t=_(t)),!t)return new j;if(t instanceof j)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,u=o-i,l=(o+i)/2;return u?(a=e===o?(n-r)/u+(n<r)*6:n===o?(r-e)/u+2:(e-n)/u+4,u/=l<.5?o+i:2-o-i,a*=60):u=l>0&&l<1?0:a,new j(a,u,l,t.opacity)}function j(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function O(t){return(t=(t||0)%360)<0?t+360:t}function M(t){return Math.max(0,Math.min(1,t||0))}function R(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}r(s,_,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:v,formatHex:v,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return P(this).formatHsl()},formatRgb:y,toString:y}),r(x,k,i(s,{brighter(t){return t=null==t?1.4285714285714286:Math.pow(1.4285714285714286,t),new x(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new x(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new x($(this.r),$(this.g),$(this.b),E(this.opacity))},displayable(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:T,formatHex:T,formatHex8:function(){return`#${A(this.r)}${A(this.g)}${A(this.b)}${A((isNaN(this.opacity)?1:this.opacity)*255)}`},formatRgb:S,toString:S})),r(j,function(t,e,n,r){return 1==arguments.length?P(t):new j(t,e,n,null==r?1:r)},i(s,{brighter(t){return t=null==t?1.4285714285714286:Math.pow(1.4285714285714286,t),new j(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new j(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new x(R(t>=240?t-240:t+120,i,r),R(t,i,r),R(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new j(O(this.h),M(this.s),M(this.l),E(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=E(this.opacity);return`${1===t?"hsl(":"hsla("}${O(this.h)}, ${100*M(this.s)}%, ${100*M(this.l)}%${1===t?")":`, ${t})`}`}}))},2779:function(t,e){"use strict";var n={value:()=>{}};function r(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw Error("illegal type: "+t);r[t]=[]}return new i(r)}function i(t){this._=t}function s(t,e,r){for(var i=0,s=t.length;i<s;++i)if(t[i].name===e){t[i]=n,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=r&&t.push({name:e,value:r}),t}i.prototype=r.prototype={constructor:i,on:function(t,e){var n,r=this._,i=(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw Error("unknown type: "+t);return{type:t,name:e}}),o=-1,a=i.length;if(arguments.length<2){for(;++o<a;)if((n=(t=i[o]).type)&&(n=function(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}(r[n],t.name)))return n;return}if(null!=e&&"function"!=typeof e)throw Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=s(r[n],t.name,e);else if(null==e)for(n in r)r[n]=s(r[n],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new i(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=Array(n),s=0;s<n;++s)i[s]=arguments[s+2];if(!this._.hasOwnProperty(t))throw Error("unknown type: "+t);for(r=this._[t],s=0,n=r.length;s<n;++s)r[s].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}},e.Z=r},6772:function(t,e,n){"use strict";n.d(e,{D:function(){return o},Z:function(){return s}});var r=n(7807),i=n(2270);function s(t){var e=t.document.documentElement,n=(0,r.Z)(t).on("dragstart.drag",i.ZP,i.Dd);"onselectstart"in e?n.on("selectstart.drag",i.ZP,i.Dd):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function o(t,e){var n=t.document.documentElement,s=(0,r.Z)(t).on("dragstart.drag",null);e&&(s.on("click.drag",i.ZP,i.Dd),setTimeout(function(){s.on("click.drag",null)},0)),"onselectstart"in n?s.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}},2270:function(t,e,n){"use strict";n.d(e,{Dd:function(){return i},Q7:function(){return r},ZP:function(){return o},rG:function(){return s}});let r={passive:!1},i={capture:!0,passive:!1};function s(t){t.stopImmediatePropagation()}function o(t){t.preventDefault(),t.stopImmediatePropagation()}},6536:function(t,e){"use strict";e.Z=t=>()=>t},7113:function(t,e,n){"use strict";function r(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}n.d(e,{Z:function(){return r}})},8116:function(t,e,n){"use strict";n.d(e,{ZP:function(){return a}});var r=n(8719);function i(t,e,n,r,i){var s=t*t,o=s*t;return((1-3*t+3*s-o)*e+(4-6*s+3*o)*n+(1+3*t+3*s-3*o)*r+o*i)/6}var s=n(6536);function o(t,e){var n=e-t;return n?function(e){return t+e*n}:(0,s.Z)(isNaN(t)?e:t)}var a=function t(e){var n,i=1==(n=+(n=e))?o:function(t,e){var r,i,o;return e-t?(r=t,i=e,r=Math.pow(r,o=n),i=Math.pow(i,o)-r,o=1/o,function(t){return Math.pow(r+t*i,o)}):(0,s.Z)(isNaN(t)?e:t)};function a(t,e){var n=i((t=(0,r.B8)(t)).r,(e=(0,r.B8)(e)).r),s=i(t.g,e.g),a=i(t.b,e.b),u=o(t.opacity,e.opacity);return function(e){return t.r=n(e),t.g=s(e),t.b=a(e),t.opacity=u(e),t+""}}return a.gamma=t,a}(1);function u(t){return function(e){var n,i,s=e.length,o=Array(s),a=Array(s),u=Array(s);for(n=0;n<s;++n)i=(0,r.B8)(e[n]),o[n]=i.r||0,a[n]=i.g||0,u[n]=i.b||0;return o=t(o),a=t(a),u=t(u),i.opacity=1,function(t){return i.r=o(t),i.g=a(t),i.b=u(t),i+""}}}u(function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),s=t[r],o=t[r+1],a=r>0?t[r-1]:2*s-o,u=r<e-1?t[r+2]:2*o-s;return i((n-r/e)*e,a,s,o,u)}}),u(function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),s=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],u=t[(r+2)%e];return i((n-r/e)*e,s,o,a,u)}})},2118:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var r=n(7113),i=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,s=RegExp(i.source,"g");function o(t,e){var n,o,a,u,l,c=i.lastIndex=s.lastIndex=0,h=-1,d=[],f=[];for(t+="",e+="";(a=i.exec(t))&&(u=s.exec(e));)(l=u.index)>c&&(l=e.slice(c,l),d[h]?d[h]+=l:d[++h]=l),(a=a[0])===(u=u[0])?d[h]?d[h]+=u:d[++h]=u:(d[++h]=null,f.push({i:h,x:(0,r.Z)(a,u)})),c=s.lastIndex;return c<e.length&&(l=e.slice(c),d[h]?d[h]+=l:d[++h]=l),d.length<2?f[0]?(n=f[0].x,function(t){return n(t)+""}):(o=e,function(){return o}):(e=f.length,function(t){for(var n,r=0;r<e;++r)d[(n=f[r]).i]=n.x(t);return d.join("")})}},5227:function(t,e,n){"use strict";function r(t){return function(){return this.matches(t)}}function i(t){return function(e){return e.matches(t)}}n.d(e,{P:function(){return i},Z:function(){return r}})},5606:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(4316);function i(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),r.Z.hasOwnProperty(e)?{space:r.Z[e],local:t}:t}},4316:function(t,e,n){"use strict";n.d(e,{P:function(){return r}});var r="http://www.w3.org/1999/xhtml";e.Z={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},9821:function(t,e,n){"use strict";function r(t,e){if(t=function(t){let e;for(;e=t.sourceEvent;)t=e;return t}(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}n.d(e,{Z:function(){return r}})},7807:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(8498);function i(t){return"string"==typeof t?new r.Y1([[document.querySelector(t)]],[document.documentElement]):new r.Y1([[t]],r.Jz)}},8498:function(t,e,n){"use strict";n.d(e,{Y1:function(){return D},ZP:function(){return z},Jz:function(){return I}});var r=n(524),i=n(4801),s=n(5227),o=Array.prototype.find;function a(){return this.firstElementChild}var u=Array.prototype.filter;function l(){return Array.from(this.children)}function c(t){return Array(t.length)}function h(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function d(t,e,n,r,i,s){for(var o,a=0,u=e.length,l=s.length;a<l;++a)(o=e[a])?(o.__data__=s[a],r[a]=o):n[a]=new h(t,s[a]);for(;a<u;++a)(o=e[a])&&(i[a]=o)}function f(t,e,n,r,i,s,o){var a,u,l,c=new Map,d=e.length,f=s.length,p=Array(d);for(a=0;a<d;++a)(u=e[a])&&(p[a]=l=o.call(u,u.__data__,a,e)+"",c.has(l)?i[a]=u:c.set(l,u));for(a=0;a<f;++a)l=o.call(t,s[a],a,s)+"",(u=c.get(l))?(r[a]=u,u.__data__=s[a],c.delete(l)):n[a]=new h(t,s[a]);for(a=0;a<d;++a)(u=e[a])&&c.get(p[a])===u&&(i[a]=u)}function p(t){return t.__data__}function g(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}h.prototype={constructor:h,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var m=n(5606),v=n(3451);function y(t){return t.trim().split(/^|\s+/)}function _(t){return t.classList||new w(t)}function w(t){this._node=t,this._names=y(t.getAttribute("class")||"")}function b(t,e){for(var n=_(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function k(t,e){for(var n=_(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function x(){this.textContent=""}function T(){this.innerHTML=""}function S(){this.nextSibling&&this.parentNode.appendChild(this)}function E(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}w.prototype={add:function(t){0>this._names.indexOf(t)&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var $=n(4316);function A(t){var e=(0,m.Z)(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===$.P&&e.documentElement.namespaceURI===$.P?e.createElement(t):e.createElementNS(n,t)}})(e)}function C(){return null}function P(){var t=this.parentNode;t&&t.removeChild(this)}function j(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function O(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function M(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,s=e.length;r<s;++r)(n=e[r],t.type&&n.type!==t.type||n.name!==t.name)?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function R(t,e,n){return function(){var r,i=this.__on,s=function(t){e.call(this,t,this.__data__)};if(i){for(var o=0,a=i.length;o<a;++o)if((r=i[o]).type===t.type&&r.name===t.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=n),r.value=e;return}}this.addEventListener(t.type,s,n),r={type:t.type,name:t.name,value:e,listener:s,options:n},i?i.push(r):this.__on=[r]}}var U=n(6361);function N(t,e,n){var r=(0,U.Z)(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}var I=[null];function D(t,e){this._groups=t,this._parents=e}function L(){return new D([[document.documentElement]],I)}D.prototype=L.prototype={constructor:D,select:function(t){"function"!=typeof t&&(t=(0,r.Z)(t));for(var e=this._groups,n=e.length,i=Array(n),s=0;s<n;++s)for(var o,a,u=e[s],l=u.length,c=i[s]=Array(l),h=0;h<l;++h)(o=u[h])&&(a=t.call(o,o.__data__,h,u))&&("__data__"in o&&(a.__data__=o.__data__),c[h]=a);return new D(i,this._parents)},selectAll:function(t){if("function"==typeof t){var e;e=t,t=function(){var t;return t=e.apply(this,arguments),null==t?[]:Array.isArray(t)?t:Array.from(t)}}else t=(0,i.Z)(t);for(var n=this._groups,r=n.length,s=[],o=[],a=0;a<r;++a)for(var u,l=n[a],c=l.length,h=0;h<c;++h)(u=l[h])&&(s.push(t.call(u,u.__data__,h,l)),o.push(u));return new D(s,o)},selectChild:function(t){var e;return this.select(null==t?a:(e="function"==typeof t?t:(0,s.P)(t),function(){return o.call(this.children,e)}))},selectChildren:function(t){var e;return this.selectAll(null==t?l:(e="function"==typeof t?t:(0,s.P)(t),function(){return u.call(this.children,e)}))},filter:function(t){"function"!=typeof t&&(t=(0,s.Z)(t));for(var e=this._groups,n=e.length,r=Array(n),i=0;i<n;++i)for(var o,a=e[i],u=a.length,l=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new D(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,p);var n=e?f:d,r=this._parents,i=this._groups;"function"!=typeof t&&(b=t,t=function(){return b});for(var s=i.length,o=Array(s),a=Array(s),u=Array(s),l=0;l<s;++l){var c=r[l],h=i[l],g=h.length,m="object"==typeof(w=t.call(c,c&&c.__data__,l,r))&&"length"in w?w:Array.from(w),v=m.length,y=a[l]=Array(v),_=o[l]=Array(v);n(c,h,y,_,u[l]=Array(g),m,e);for(var w,b,k,x,T=0,S=0;T<v;++T)if(k=y[T]){for(T>=S&&(S=T+1);!(x=_[S])&&++S<v;);k._next=x||null}}return(o=new D(o,r))._enter=a,o._exit=u,o},enter:function(){return new D(this._enter||this._groups.map(c),this._parents)},exit:function(){return new D(this._exit||this._groups.map(c),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,s=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(i=e(i))&&(i=i.selection()),null==n?s.remove():n(s),r&&i?r.merge(i).order():i},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,o=Math.min(i,s),a=Array(i),u=0;u<o;++u)for(var l,c=n[u],h=r[u],d=c.length,f=a[u]=Array(d),p=0;p<d;++p)(l=c[p]||h[p])&&(f[p]=l);for(;u<i;++u)a[u]=n[u];return new D(a,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],s=i.length-1,o=i[s];--s>=0;)(r=i[s])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=g);for(var n=this._groups,r=n.length,i=Array(r),s=0;s<r;++s){for(var o,a=n[s],u=a.length,l=i[s]=Array(u),c=0;c<u;++c)(o=a[c])&&(l[c]=o);l.sort(e)}return new D(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null},size:function(){let t=0;for(let e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,s=e[n],o=0,a=s.length;o<a;++o)(i=s[o])&&t.call(i,i.__data__,o,s);return this},attr:function(t,e){var n=(0,m.Z)(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}:function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:v.Z,property:function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=y(t+"");if(arguments.length<2){for(var r=_(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?b:k)(this,t)}}:e?function(t){return function(){b(this,t)}}:function(t){return function(){k(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?x:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?T:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(S)},lower:function(){return this.each(E)},append:function(t){var e="function"==typeof t?t:A(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:A(t),i=null==e?C:"function"==typeof e?e:(0,r.Z)(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function(){return this.each(P)},clone:function(t){return this.select(t?O:j)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,s=(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}),o=s.length;if(arguments.length<2){var a=this.node().__on;if(a){for(var u,l=0,c=a.length;l<c;++l)for(r=0,u=a[l];r<o;++r)if((i=s[r]).type===u.type&&i.name===u.name)return u.value}return}for(r=0,a=e?R:M;r<o;++r)this.each(a(s[r],e,n));return this},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return N(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return N(this,t,e)}})(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],s=0,o=i.length;s<o;++s)(r=i[s])&&(yield r)}};var z=L},3451:function(t,e,n){"use strict";n.d(e,{S:function(){return s},Z:function(){return i}});var r=n(6361);function i(t,e,n){return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):s(this.node(),t)}function s(t,e){return t.style.getPropertyValue(e)||(0,r.Z)(t).getComputedStyle(t,null).getPropertyValue(e)}},524:function(t,e,n){"use strict";function r(){}function i(t){return null==t?r:function(){return this.querySelector(t)}}n.d(e,{Z:function(){return i}})},4801:function(t,e,n){"use strict";function r(){return[]}function i(t){return null==t?r:function(){return this.querySelectorAll(t)}}n.d(e,{Z:function(){return i}})},6361:function(t,e,n){"use strict";function r(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}n.d(e,{Z:function(){return r}})},3100:function(t,e,n){"use strict";n.d(e,{e1:function(){return P}});var r,i,s,o=n(8498),a=n(2779),u=0,l=0,c=0,h=0,d=0,f=0,p="object"==typeof performance&&performance.now?performance:Date,g="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function m(){return d||(g(v),d=p.now()+f)}function v(){d=0}function y(){this._call=this._time=this._next=null}function _(t,e,n){var r=new y;return r.restart(t,e,n),r}function w(){d=(h=p.now())+f,u=l=0;try{!function(){m(),++u;for(var t,e=i;e;)(t=d-e._time)>=0&&e._call.call(void 0,t),e=e._next;--u}()}finally{u=0,function(){for(var t,e,n=i,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:i=e);s=t,k(r)}(),d=0}}function b(){var t=p.now(),e=t-h;e>1e3&&(f-=e,h=t)}function k(t){!u&&(l&&(l=clearTimeout(l)),t-d>24?(t<1/0&&(l=setTimeout(w,t-p.now()-f)),c&&(c=clearInterval(c))):(c||(h=p.now(),c=setInterval(b,1e3)),u=1,g(w)))}function x(t,e,n){var r=new y;return e=null==e?0:+e,r.restart(n=>{r.stop(),t(n+e)},e,n),r}y.prototype=_.prototype={constructor:y,restart:function(t,e,n){if("function"!=typeof t)throw TypeError("callback is not a function");n=(null==n?m():+n)+(null==e?0:+e),this._next||s===this||(s?s._next=this:i=this,s=this),this._call=t,this._time=n,k()},stop:function(){this._call&&(this._call=null,this._time=1/0,k())}};var T=(0,a.Z)("start","end","cancel","interrupt"),S=[];function E(t,e,n,r,i,s){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function s(u){var l,c,h,d;if(1!==n.state)return a();for(l in i)if((d=i[l]).name===n.name){if(3===d.state)return x(s);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete i[l]):+l<e&&(d.state=6,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete i[l])}if(x(function(){3===n.state&&(n.state=4,n.timer.restart(o,n.delay,n.time),o(u))}),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(l=0,n.state=3,r=Array(h=n.tween.length),c=-1;l<h;++l)(d=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(r[++c]=d);r.length=c+1}}function o(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(a),n.state=5,1),s=-1,o=r.length;++s<o;)r[s].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=_(function(t){n.state=1,n.timer.restart(s,n.delay,n.time),n.delay<=t&&s(t-n.delay)},0,n.time)}(t,n,{name:e,index:r,group:i,on:T,tween:S,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:0})}function $(t,e){var n=C(t,e);if(n.state>0)throw Error("too late; already scheduled");return n}function A(t,e){var n=C(t,e);if(n.state>3)throw Error("too late; already running");return n}function C(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw Error("transition not found");return n}function P(t,e){var n,r,i,s=t.__transition,o=!0;if(s){for(i in e=null==e?null:e+"",s){if((n=s[i]).name!==e){o=!1;continue}r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete s[i]}o&&delete t.__transition}}var j=n(7113),O=180/Math.PI,M={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function R(t,e,n,r,i,s){var o,a,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,u/=a),t*r<e*n&&(t=-t,e=-e,u=-u,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*O,skewX:Math.atan(u)*O,scaleX:o,scaleY:a}}function U(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(s,o){var a,u,l,c,h=[],d=[];return s=t(s),o=t(o),!function(t,r,i,s,o,a){if(t!==i||r!==s){var u=o.push("translate(",null,e,null,n);a.push({i:u-4,x:(0,j.Z)(t,i)},{i:u-2,x:(0,j.Z)(r,s)})}else(i||s)&&o.push("translate("+i+e+s+n)}(s.translateX,s.translateY,o.translateX,o.translateY,h,d),(a=s.rotate)!==(u=o.rotate)?(a-u>180?u+=360:u-a>180&&(a+=360),d.push({i:h.push(i(h)+"rotate(",null,r)-2,x:(0,j.Z)(a,u)})):u&&h.push(i(h)+"rotate("+u+r),(l=s.skewX)!==(c=o.skewX)?d.push({i:h.push(i(h)+"skewX(",null,r)-2,x:(0,j.Z)(l,c)}):c&&h.push(i(h)+"skewX("+c+r),!function(t,e,n,r,s,o){if(t!==n||e!==r){var a=s.push(i(s)+"scale(",null,",",null,")");o.push({i:a-4,x:(0,j.Z)(t,n)},{i:a-2,x:(0,j.Z)(e,r)})}else(1!==n||1!==r)&&s.push(i(s)+"scale("+n+","+r+")")}(s.scaleX,s.scaleY,o.scaleX,o.scaleY,h,d),s=o=null,function(t){for(var e,n=-1,r=d.length;++n<r;)h[(e=d[n]).i]=e.x(t);return h.join("")}}}var N=U(function(t){let e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?M:R(e.a,e.b,e.c,e.d,e.e,e.f)},"px, ","px)","deg)"),I=U(function(t){return null==t?M:(r||(r=document.createElementNS("http://www.w3.org/2000/svg","g")),r.setAttribute("transform",t),t=r.transform.baseVal.consolidate())?R((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):M},", ",")",")"),D=n(5606);function L(t,e,n){var r=t._id;return t.each(function(){var t=A(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return C(t,r).value[e]}}var z=n(8719),F=n(8116),B=n(2118);function q(t,e){var n;return("number"==typeof e?j.Z:e instanceof z.ZP?F.ZP:(n=(0,z.ZP)(e))?(e=n,F.ZP):B.Z)(t,e)}var Z=n(5227),H=n(524),Y=n(4801),J=o.ZP.prototype.constructor,G=n(3451);function K(t){return function(){this.style.removeProperty(t)}}var V=0;function X(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}var W=o.ZP.prototype;X.prototype=(function(t){return(0,o.ZP)().transition(t)}).prototype={constructor:X,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=(0,H.Z)(t));for(var r=this._groups,i=r.length,s=Array(i),o=0;o<i;++o)for(var a,u,l=r[o],c=l.length,h=s[o]=Array(c),d=0;d<c;++d)(a=l[d])&&(u=t.call(a,a.__data__,d,l))&&("__data__"in a&&(u.__data__=a.__data__),h[d]=u,E(h[d],e,n,d,h,C(a,n)));return new X(s,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=(0,Y.Z)(t));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var u,l=r[a],c=l.length,h=0;h<c;++h)if(u=l[h]){for(var d,f=t.call(u,u.__data__,h,l),p=C(u,n),g=0,m=f.length;g<m;++g)(d=f[g])&&E(d,e,n,g,f,p);s.push(f),o.push(u)}return new X(s,o,e,n)},selectChild:W.selectChild,selectChildren:W.selectChildren,filter:function(t){"function"!=typeof t&&(t=(0,Z.Z)(t));for(var e=this._groups,n=e.length,r=Array(n),i=0;i<n;++i)for(var s,o=e[i],a=o.length,u=r[i]=[],l=0;l<a;++l)(s=o[l])&&t.call(s,s.__data__,l,o)&&u.push(s);return new X(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw Error();for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=Array(r),a=0;a<s;++a)for(var u,l=e[a],c=n[a],h=l.length,d=o[a]=Array(h),f=0;f<h;++f)(u=l[f]||c[f])&&(d[f]=u);for(;a<r;++a)o[a]=e[a];return new X(o,this._parents,this._name,this._id)},selection:function(){return new J(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=++V,r=this._groups,i=r.length,s=0;s<i;++s)for(var o,a=r[s],u=a.length,l=0;l<u;++l)if(o=a[l]){var c=C(o,e);E(o,t,n,l,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new X(r,this._parents,t,n)},call:W.call,nodes:W.nodes,node:W.node,size:W.size,empty:W.empty,each:W.each,on:function(t,e){var n,r,i,s=this._id;return arguments.length<2?C(this.node(),s).on.on(t):this.each((i=(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})?$:A,function(){var o=i(this,s),a=o.on;a!==n&&(r=(n=a).copy()).on(t,e),o.on=r}))},attr:function(t,e){var n=(0,D.Z)(t),r="transform"===n?I:q;return this.attrTween(t,"function"==typeof e?(n.local?function(t,e,n){var r,i,s;return function(){var o,a,u=n(this);return null==u?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local))===(a=u+"")?null:o===r&&a===i?s:(i=a,s=e(r=o,u))}}:function(t,e,n){var r,i,s;return function(){var o,a,u=n(this);return null==u?void this.removeAttribute(t):(o=this.getAttribute(t))===(a=u+"")?null:o===r&&a===i?s:(i=a,s=e(r=o,u))}})(n,r,L(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(t,e,n){var r,i,s=n+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===s?null:o===r?i:i=e(r=o,n)}}:function(t,e,n){var r,i,s=n+"";return function(){var o=this.getAttribute(t);return o===s?null:o===r?i:i=e(r=o,n)}})(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw Error();var r=(0,D.Z)(t);return this.tween(n,(r.local?function(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e){this.setAttributeNS(t.space,t.local,i.call(this,e))}),n}return i._value=e,i}:function(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e){this.setAttribute(t,i.call(this,e))}),n}return i._value=e,i})(r,e))},style:function(t,e,n){var r,i,s,o,a,u,l,c,h,d,f,p,g,m,v,y,_,w,b,k,x,T="transform"==(t+="")?N:q;return null==e?this.styleTween(t,(r=t,function(){var t=(0,G.S)(this,r),e=(this.style.removeProperty(r),(0,G.S)(this,r));return t===e?null:t===i&&e===s?o:o=T(i=t,s=e)})).on("end.style."+t,K(t)):"function"==typeof e?this.styleTween(t,(a=t,u=L(this,"style."+t,e),function(){var t=(0,G.S)(this,a),e=u(this),n=e+"";return null==e&&(this.style.removeProperty(a),n=e=(0,G.S)(this,a)),t===n?null:t===l&&n===c?h:(c=n,h=T(l=t,e))})).each((d=this._id,_="end."+(y="style."+(f=t)),function(){var t=A(this,d),e=t.on,n=null==t.value[y]?v||(v=K(f)):void 0;(e!==p||m!==n)&&(g=(p=e).copy()).on(_,m=n),t.on=g})):this.styleTween(t,(w=t,x=e+"",function(){var t=(0,G.S)(this,w);return t===x?null:t===b?k:k=T(b=t,e)}),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw Error();return this.tween(r,function(t,e,n){var r,i;function s(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&function(e){this.style.setProperty(t,s.call(this,e),n)}),r}return s._value=e,s}(t,e,null==n?"":n))},text:function(t){var e,n;return this.tween("text","function"==typeof t?(e=L(this,"text",t),function(){var t=e(this);this.textContent=null==t?"":t}):(n=null==t?"":t+"",function(){this.textContent=n}))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw Error();return this.tween(e,function(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&function(t){this.textContent=r.call(this,t)}),e}return r._value=t,r}(t))},remove:function(){var t;return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=C(this.node(),n).tween,s=0,o=i.length;s<o;++s)if((r=i[s]).name===t)return r.value;return null}return this.each((null==e?function(t,e){var n,r;return function(){var i=A(this,t),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===e){(r=r.slice()).splice(o,1);break}}i.tween=r}}:function(t,e,n){var r,i;if("function"!=typeof n)throw Error();return function(){var s=A(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:e,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===e){i[u]=a;break}u===l&&i.push(a)}s.tween=i}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){$(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){$(this,t).delay=e}})(e,t)):C(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){A(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){A(this,t).duration=e}})(e,t)):C(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw Error();return function(){A(this,t).ease=e}}(e,t)):C(this.node(),e).ease},easeVarying:function(t){var e;if("function"!=typeof t)throw Error();return this.each((e=this._id,function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw Error();A(this,e).ease=n}))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},u={value:function(){0==--i&&s()}};n.each(function(){var n=A(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(a),e._.interrupt.push(a),e._.end.push(u)),n.on=e}),0===i&&s()})},[Symbol.iterator]:W[Symbol.iterator]};var Q={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};o.ZP.prototype.interrupt=function(t){return this.each(function(){P(this,t)})},o.ZP.prototype.transition=function(t){var e,n;t instanceof X?(e=t._id,t=t._name):(e=++V,(n=Q).time=m(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o,a=r[s],u=a.length,l=0;l<u;++l)(o=a[l])&&E(o,t,e,l,a,n||function(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw Error(`transition ${e} not found`);return n}(o,e));return new X(r,this._parents,t,e)}},2333:function(t,e,n){"use strict";n.d(e,{sP:function(){return x},CR:function(){return f},P2:function(){return p}});var r=n(2779),i=n(6772);function s(t){return((t=Math.exp(t))+1/t)/2}var o=function t(e,n,r){function i(t,i){var o,a,u=t[0],l=t[1],c=t[2],h=i[0],d=i[1],f=i[2],p=h-u,g=d-l,m=p*p+g*g;if(m<1e-12)a=Math.log(f/c)/e,o=function(t){return[u+t*p,l+t*g,c*Math.exp(e*t*a)]};else{var v=Math.sqrt(m),y=(f*f-c*c+r*m)/(2*c*n*v),_=(f*f-c*c-r*m)/(2*f*n*v),w=Math.log(Math.sqrt(y*y+1)-y);a=(Math.log(Math.sqrt(_*_+1)-_)-w)/e,o=function(t){var r,i,o=t*a,h=s(w),d=c/(n*v)*(((r=Math.exp(2*(r=e*o+w)))-1)/(r+1)*h-((i=Math.exp(i=w))-1/i)/2);return[u+d*p,l+d*g,c*h/s(e*o+w)]}}return o.duration=1e3*a*e/Math.SQRT2,o}return i.rho=function(e){var n=Math.max(.001,+e),r=n*n;return t(n,r,r*r)},i}(Math.SQRT2,2,4),a=n(7807),u=n(9821),l=n(3100),c=t=>()=>t;function h(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function d(t,e,n){this.k=t,this.x=e,this.y=n}d.prototype={constructor:d,scale:function(t){return 1===t?this:new d(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new d(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var f=new d(1,0,0);function p(t){for(;!t.__zoom;)if(!(t=t.parentNode))return f;return t.__zoom}function g(t){t.stopImmediatePropagation()}function m(t){t.preventDefault(),t.stopImmediatePropagation()}function v(t){return(!t.ctrlKey||"wheel"===t.type)&&!t.button}function y(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function _(){return this.__zoom||f}function w(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function b(){return navigator.maxTouchPoints||"ontouchstart"in this}function k(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function x(){var t,e,n,s=v,p=y,x=k,T=w,S=b,E=[0,1/0],$=[[-1/0,-1/0],[1/0,1/0]],A=250,C=o,P=(0,r.Z)("start","zoom","end"),j=0,O=10;function M(t){t.property("__zoom",_).on("wheel.zoom",z,{passive:!1}).on("mousedown.zoom",F).on("dblclick.zoom",B).filter(S).on("touchstart.zoom",q).on("touchmove.zoom",Z).on("touchend.zoom touchcancel.zoom",H).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function R(t,e){return(e=Math.max(E[0],Math.min(E[1],e)))===t.k?t:new d(e,t.x,t.y)}function U(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new d(t.k,r,i)}function N(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function I(t,e,n,r){t.on("start.zoom",function(){D(this,arguments).event(r).start()}).on("interrupt.zoom end.zoom",function(){D(this,arguments).event(r).end()}).tween("zoom",function(){var t=arguments,i=D(this,t).event(r),s=p.apply(this,t),o=null==n?N(s):"function"==typeof n?n.apply(this,t):n,a=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),u=this.__zoom,l="function"==typeof e?e.apply(this,t):e,c=C(u.invert(o).concat(a/u.k),l.invert(o).concat(a/l.k));return function(t){if(1===t)t=l;else{var e=c(t),n=a/e[2];t=new d(n,o[0]-e[0]*n,o[1]-e[1]*n)}i.zoom(null,t)}})}function D(t,e,n){return!n&&t.__zooming||new L(t,e)}function L(t,e){this.that=t,this.args=e,this.active=0,this.sourceEvent=null,this.extent=p.apply(t,e),this.taps=0}function z(t,...e){if(s.apply(this,arguments)){var n=D(this,e).event(t),r=this.__zoom,i=Math.max(E[0],Math.min(E[1],r.k*Math.pow(2,T.apply(this,arguments)))),o=(0,u.Z)(t);if(n.wheel)(n.mouse[0][0]!==o[0]||n.mouse[0][1]!==o[1])&&(n.mouse[1]=r.invert(n.mouse[0]=o)),clearTimeout(n.wheel);else{if(r.k===i)return;n.mouse=[o,r.invert(o)],(0,l.e1)(this),n.start()}m(t),n.wheel=setTimeout(function(){n.wheel=null,n.end()},150),n.zoom("mouse",x(U(R(r,i),n.mouse[0],n.mouse[1]),n.extent,$))}}function F(t,...e){if(!n&&s.apply(this,arguments)){var r=t.currentTarget,o=D(this,e,!0).event(t),c=(0,a.Z)(t.view).on("mousemove.zoom",function(t){if(m(t),!o.moved){var e=t.clientX-d,n=t.clientY-f;o.moved=e*e+n*n>j}o.event(t).zoom("mouse",x(U(o.that.__zoom,o.mouse[0]=(0,u.Z)(t,r),o.mouse[1]),o.extent,$))},!0).on("mouseup.zoom",function(t){c.on("mousemove.zoom mouseup.zoom",null),(0,i.D)(t.view,o.moved),m(t),o.event(t).end()},!0),h=(0,u.Z)(t,r),d=t.clientX,f=t.clientY;(0,i.Z)(t.view),g(t),o.mouse=[h,this.__zoom.invert(h)],(0,l.e1)(this),o.start()}}function B(t,...e){if(s.apply(this,arguments)){var n=this.__zoom,r=(0,u.Z)(t.changedTouches?t.changedTouches[0]:t,this),i=n.invert(r),o=n.k*(t.shiftKey?.5:2),l=x(U(R(n,o),r,i),p.apply(this,e),$);m(t),A>0?(0,a.Z)(this).transition().duration(A).call(I,l,r,t):(0,a.Z)(this).call(M.transform,l,r,t)}}function q(n,...r){if(s.apply(this,arguments)){var i,o,a,c,h=n.touches,d=h.length,f=D(this,r,n.changedTouches.length===d).event(n);for(g(n),o=0;o<d;++o)a=h[o],c=[c=(0,u.Z)(a,this),this.__zoom.invert(c),a.identifier],f.touch0?f.touch1||f.touch0[2]===c[2]||(f.touch1=c,f.taps=0):(f.touch0=c,i=!0,f.taps=1+!!t);t&&(t=clearTimeout(t)),i&&(f.taps<2&&(e=c[0],t=setTimeout(function(){t=null},500)),(0,l.e1)(this),f.start())}}function Z(t,...e){if(this.__zooming){var n,r,i,s,o=D(this,e).event(t),a=t.changedTouches,l=a.length;for(m(t),n=0;n<l;++n)r=a[n],i=(0,u.Z)(r,this),o.touch0&&o.touch0[2]===r.identifier?o.touch0[0]=i:o.touch1&&o.touch1[2]===r.identifier&&(o.touch1[0]=i);if(r=o.that.__zoom,o.touch1){var c=o.touch0[0],h=o.touch0[1],d=o.touch1[0],f=o.touch1[1],p=(p=d[0]-c[0])*p+(p=d[1]-c[1])*p,g=(g=f[0]-h[0])*g+(g=f[1]-h[1])*g;r=R(r,Math.sqrt(p/g)),i=[(c[0]+d[0])/2,(c[1]+d[1])/2],s=[(h[0]+f[0])/2,(h[1]+f[1])/2]}else{if(!o.touch0)return;i=o.touch0[0],s=o.touch0[1]}o.zoom("touch",x(U(r,i,s),o.extent,$))}}function H(t,...r){if(this.__zooming){var i,s,o=D(this,r).event(t),l=t.changedTouches,c=l.length;for(g(t),n&&clearTimeout(n),n=setTimeout(function(){n=null},500),i=0;i<c;++i)s=l[i],o.touch0&&o.touch0[2]===s.identifier?delete o.touch0:o.touch1&&o.touch1[2]===s.identifier&&delete o.touch1;if(o.touch1&&!o.touch0&&(o.touch0=o.touch1,delete o.touch1),o.touch0)o.touch0[1]=this.__zoom.invert(o.touch0[0]);else if(o.end(),2===o.taps&&(s=(0,u.Z)(s,this),Math.hypot(e[0]-s[0],e[1]-s[1])<O)){var h=(0,a.Z)(this).on("dblclick.zoom");h&&h.apply(this,arguments)}}}return M.transform=function(t,e,n,r){var i=t.selection?t.selection():t;i.property("__zoom",_),t!==i?I(t,e,n,r):i.interrupt().each(function(){D(this,arguments).event(r).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},M.scaleBy=function(t,e,n,r){M.scaleTo(t,function(){var t=this.__zoom.k,n="function"==typeof e?e.apply(this,arguments):e;return t*n},n,r)},M.scaleTo=function(t,e,n,r){M.transform(t,function(){var t=p.apply(this,arguments),r=this.__zoom,i=null==n?N(t):"function"==typeof n?n.apply(this,arguments):n,s=r.invert(i),o="function"==typeof e?e.apply(this,arguments):e;return x(U(R(r,o),i,s),t,$)},n,r)},M.translateBy=function(t,e,n,r){M.transform(t,function(){return x(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),p.apply(this,arguments),$)},null,r)},M.translateTo=function(t,e,n,r,i){M.transform(t,function(){var t=p.apply(this,arguments),i=this.__zoom,s=null==r?N(t):"function"==typeof r?r.apply(this,arguments):r;return x(f.translate(s[0],s[1]).scale(i.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,$)},r,i)},L.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var e=(0,a.Z)(this.that).datum();P.call(t,this.that,new h(t,{sourceEvent:this.sourceEvent,target:M,type:t,transform:this.that.__zoom,dispatch:P}),e)}},M.wheelDelta=function(t){return arguments.length?(T="function"==typeof t?t:c(+t),M):T},M.filter=function(t){return arguments.length?(s="function"==typeof t?t:c(!!t),M):s},M.touchable=function(t){return arguments.length?(S="function"==typeof t?t:c(!!t),M):S},M.extent=function(t){return arguments.length?(p="function"==typeof t?t:c([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),M):p},M.scaleExtent=function(t){return arguments.length?(E[0]=+t[0],E[1]=+t[1],M):[E[0],E[1]]},M.translateExtent=function(t){return arguments.length?($[0][0]=+t[0][0],$[1][0]=+t[1][0],$[0][1]=+t[0][1],$[1][1]=+t[1][1],M):[[$[0][0],$[0][1]],[$[1][0],$[1][1]]]},M.constrain=function(t){return arguments.length?(x=t,M):x},M.duration=function(t){return arguments.length?(A=+t,M):A},M.interpolate=function(t){return arguments.length?(C=t,M):C},M.on=function(){var t=P.on.apply(P,arguments);return t===P?M:t},M.clickDistance=function(t){return arguments.length?(j=(t=+t)*t,M):Math.sqrt(j)},M.tapDistance=function(t){return arguments.length?(O=+t,M):O},M}p.prototype=d.prototype},5755:function(t,e,n){"use strict";function r(t,e){let n,r;if(void 0===e)for(let e of t)null!=e&&(void 0===n?e>=e&&(n=r=e):(n>e&&(n=e),r<e&&(r=e)));else{let i=-1;for(let s of t)null!=(s=e(s,++i,t))&&(void 0===n?s>=s&&(n=r=s):(n>s&&(n=s),r<s&&(r=s)))}return[n,r]}n.d(e,{SOn:function(){return tG},LLu:function(){return v},y4O:function(){return y},$0Z:function(){return tX},Wem:function(){return r},Xxj:function(){return u},LX0:function(){return X.ZP},jvg:function(){return tJ},Fp7:function(){return l},VV$:function(){return c},w6H:function(){return h},B8C:function(){return C.B8},tiA:function(){return function t(){var e,n,r=(function t(){var e=new i,n=[],r=[],s=tt;function o(t){let i=e.get(t);if(void 0===i){if(s!==tt)return s;e.set(t,i=n.push(t)-1)}return r[i%r.length]}return o.domain=function(t){if(!arguments.length)return n.slice();for(let r of(n=[],e=new i,t))e.has(r)||e.set(r,n.push(r)-1);return o},o.range=function(t){return arguments.length?(r=Array.from(t),o):r.slice()},o.unknown=function(t){return arguments.length?(s=t,o):s},o.copy=function(){return t(n,r).unknown(s)},W.apply(o,arguments),o})().unknown(void 0),s=r.domain,o=r.range,a=0,u=1,l=!1,c=0,d=0,f=.5;function p(){var t=s().length,r=u<a,i=r?u:a,p=r?a:u;e=(p-i)/Math.max(1,t-c+2*d),l&&(e=Math.floor(e)),i+=(p-i-e*(t-c))*f,n=e*(1-c),l&&(i=Math.round(i),n=Math.round(n));var g=h(t).map(function(t){return i+e*t});return o(r?g.reverse():g)}return delete r.unknown,r.domain=function(t){return arguments.length?(s(t),p()):s()},r.range=function(t){return arguments.length?([a,u]=t,a=+a,u=+u,p()):[a,u]},r.rangeRound=function(t){return[a,u]=t,a=+a,u=+u,l=!0,p()},r.bandwidth=function(){return n},r.step=function(){return e},r.round=function(t){return arguments.length?(l=!!t,p()):l},r.padding=function(t){return arguments.length?(c=Math.min(1,d=+t),p()):c},r.paddingInner=function(t){return arguments.length?(c=Math.min(1,t),p()):c},r.paddingOuter=function(t){return arguments.length?(d=+t,p()):d},r.align=function(t){return arguments.length?(f=Math.max(0,Math.min(1,t)),p()):f},r.copy=function(){return t(s(),[a,u]).round(l).paddingInner(c).paddingOuter(d).align(f)},W.apply(p(),arguments)}},BYU:function(){return function t(){var e=(function(){var t,e,n,r,i,s,o=ty,a=ty,u=tg,l=t_;function c(){var t,e,n,u=Math.min(o.length,a.length);return l!==t_&&(t=o[0],e=o[u-1],t>e&&(n=t,t=e,e=n),l=function(n){return Math.max(t,Math.min(e,n))}),r=u>2?tk:tb,i=s=null,h}function h(e){return null==e||isNaN(e=+e)?n:(i||(i=r(o.map(t),a,u)))(t(l(e)))}return h.invert=function(n){return l(e((s||(s=r(a,o.map(t),td.Z)))(n)))},h.domain=function(t){return arguments.length?(o=Array.from(t,tv),c()):o.slice()},h.range=function(t){return arguments.length?(a=Array.from(t),c()):a.slice()},h.rangeRound=function(t){return a=Array.from(t),u=tm,c()},h.clamp=function(t){return arguments.length?(l=!!t||t_,c()):l!==t_},h.interpolate=function(t){return arguments.length?(u=t,c()):u},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,c()}})()(t_,t_);return e.copy=function(){return t().domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())},W.apply(e,arguments),tM(e)}},cJy:function(){return function t(){var e=tM((function(){var t,e,n,r,i,s=0,o=1,a=t_,u=!1;function l(e){return null==e||isNaN(e=+e)?i:a(0===n?.5:(e=(r(e)-t)*n,u?Math.max(0,Math.min(1,e)):e))}function c(t){return function(e){var n,r;return arguments.length?([n,r]=e,a=t(n,r),l):[a(0),a(1)]}}return l.domain=function(i){return arguments.length?([s,o]=i,t=r(s=+s),e=r(o=+o),n=t===e?0:1/(e-t),l):[s,o]},l.clamp=function(t){return arguments.length?(u=!!t,l):u},l.interpolator=function(t){return arguments.length?(a=t,l):a},l.range=c(tg),l.rangeRound=c(tm),l.unknown=function(t){return arguments.length?(i=t,l):i},function(i){return r=i,t=i(s),e=i(o),n=t===e?0:1/(e-t),l}})()(t_));return e.copy=function(){return t().domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())},Q.apply(e,arguments)}},Ys:function(){return tR.Z},QP8:function(){return q},rr1:function(){return t1},G_s:function(){return V},g0u:function(){return A},meP:function(){return el},Ksh:function(){return ec},Ox3:function(){return en}});class i extends Map{constructor(t,e=o){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(let[e,n]of t)this.set(e,n)}get(t){return super.get(s(this,t))}has(t){return super.has(s(this,t))}set(t,e){return super.set(function({_intern:t,_key:e},n){let r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}(this,t),e)}delete(t){return super.delete(function({_intern:t,_key:e},n){let r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}(this,t))}}function s({_intern:t,_key:e},n){let r=e(n);return t.has(r)?t.get(r):n}function o(t){return null!==t&&"object"==typeof t?t.valueOf():t}function a(t){return t}function u(t,...e){var n;return n=Array.from,function t(r,s){if(s>=e.length)return a(r);let o=new i,u=e[s++],l=-1;for(let t of r){let e=u(t,++l,r),n=o.get(e);n?n.push(t):o.set(e,[t])}for(let[e,n]of o)o.set(e,t(n,s));return n(o)}(t,0)}function l(t,e){let n;if(void 0===e)for(let e of t)null!=e&&(n<e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function c(t,e){let n;if(void 0===e)for(let e of t)null!=e&&(n>e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function h(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),s=Array(i);++r<i;)s[r]=t+r*n;return s}function d(t){return t}function f(t){return"translate("+t+",0)"}function p(t){return"translate(0,"+t+")"}function g(){return!this.__axis}function m(t,e){var n=[],r=null,i=null,s=6,o=6,a=3,u="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,l=1===t||4===t?-1:1,c=4===t||2===t?"x":"y",h=1===t||3===t?f:p;function m(f){var p=null==r?e.ticks?e.ticks.apply(e,n):e.domain():r,m=null==i?e.tickFormat?e.tickFormat.apply(e,n):d:i,v=Math.max(s,0)+a,y=e.range(),_=+y[0]+u,w=+y[y.length-1]+u,b=(e.bandwidth?function(t,e){return e=Math.max(0,t.bandwidth()-2*e)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}:function(t){return e=>+t(e)})(e.copy(),u),k=f.selection?f.selection():f,x=k.selectAll(".domain").data([null]),T=k.selectAll(".tick").data(p,e).order(),S=T.exit(),E=T.enter().append("g").attr("class","tick"),$=T.select("line"),A=T.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),T=T.merge(E),$=$.merge(E.append("line").attr("stroke","currentColor").attr(c+"2",l*s)),A=A.merge(E.append("text").attr("fill","currentColor").attr(c,l*v).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),f!==k&&(x=x.transition(f),T=T.transition(f),$=$.transition(f),A=A.transition(f),S=S.transition(f).attr("opacity",1e-6).attr("transform",function(t){return isFinite(t=b(t))?h(t+u):this.getAttribute("transform")}),E.attr("opacity",1e-6).attr("transform",function(t){var e=this.parentNode.__axis;return h((e&&isFinite(e=e(t))?e:b(t))+u)})),S.remove(),x.attr("d",4===t||2===t?o?"M"+l*o+","+_+"H"+u+"V"+w+"H"+l*o:"M"+u+","+_+"V"+w:o?"M"+_+","+l*o+"V"+u+"H"+w+"V"+l*o:"M"+_+","+u+"H"+w),T.attr("opacity",1).attr("transform",function(t){return h(b(t)+u)}),$.attr(c+"2",l*s),A.attr(c,l*v).text(m),k.filter(g).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),k.each(function(){this.__axis=b})}return m.scale=function(t){return arguments.length?(e=t,m):e},m.ticks=function(){return n=Array.from(arguments),m},m.tickArguments=function(t){return arguments.length?(n=null==t?[]:Array.from(t),m):n.slice()},m.tickValues=function(t){return arguments.length?(r=null==t?null:Array.from(t),m):r&&r.slice()},m.tickFormat=function(t){return arguments.length?(i=t,m):i},m.tickSize=function(t){return arguments.length?(s=o=+t,m):s},m.tickSizeInner=function(t){return arguments.length?(s=+t,m):s},m.tickSizeOuter=function(t){return arguments.length?(o=+t,m):o},m.tickPadding=function(t){return arguments.length?(a=+t,m):a},m.offset=function(t){return arguments.length?(u=+t,m):u},m}function v(t){return m(3,t)}function y(t){return m(4,t)}n(3100);let{abs:_,max:w,min:b}=Math;function k(t){return{type:t}}["w","e"].map(k),["n","s"].map(k),["n","w","e","s","nw","ne","sw","se"].map(k);var x,T,S,E,$,A,C=n(8719);function P(t){return null==t?null:function(t){if("function"!=typeof t)throw Error();return t}(t)}function j(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function O(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=R)):void 0===e&&(e=M);for(var n,r,i,s,o,a=new I(t),u=[a];n=u.pop();)if((i=e(n.data))&&(o=(i=Array.from(i)).length))for(n.children=i,s=o-1;s>=0;--s)u.push(r=i[s]=new I(i[s])),r.parent=n,r.depth=n.depth+1;return a.eachBefore(N)}function M(t){return t.children}function R(t){return Array.isArray(t)?t[1]:null}function U(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function N(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function I(t){this.data=t,this.depth=this.height=0,this.parent=null}I.prototype=O.prototype={constructor:I,count:function(){return this.eachAfter(j)},each:function(t,e){let n=-1;for(let r of this)t.call(e,r,++n,this);return this},eachAfter:function(t,e){for(var n,r,i,s=this,o=[s],a=[],u=-1;s=o.pop();)if(a.push(s),n=s.children)for(r=0,i=n.length;r<i;++r)o.push(n[r]);for(;s=a.pop();)t.call(e,s,++u,this);return this},eachBefore:function(t,e){for(var n,r,i=this,s=[i],o=-1;i=s.pop();)if(t.call(e,i,++o,this),n=i.children)for(r=n.length-1;r>=0;--r)s.push(n[r]);return this},find:function(t,e){let n=-1;for(let r of this)if(t.call(e,r,++n,this))return r},sum:function(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})},sort:function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)r.push(e=e.parent);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},links:function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e},copy:function(){return O(this).eachBefore(U)},[Symbol.iterator]:function*(){var t,e,n,r,i=this,s=[i];do for(t=s.reverse(),s=[];i=t.pop();)if(yield i,e=i.children)for(n=0,r=e.length;n<r;++n)s.push(e[n]);while(s.length)}};var D={depth:-1},L={},z={};function F(t){return t.id}function B(t){return t.parentId}function q(){var t,e=F,n=B;function r(r){var i,s,o,a,u,l,c,h,d=Array.from(r),f=e,p=n,g=new Map;if(null!=t){let e=d.map((e,n)=>{var i;let s;return i=t(e,n,r),s=(i=`${i}`).length,H(i,s-1)&&!H(i,s-2)&&(i=i.slice(0,-1)),"/"===i[0]?i:`/${i}`}),n=e.map(Z),i=new Set(e).add("");for(let t of n)i.has(t)||(i.add(t),e.push(t),n.push(Z(t)),d.push(z));f=(t,n)=>e[n],p=(t,e)=>n[e]}for(o=0,i=d.length;o<i;++o)s=d[o],l=d[o]=new I(s),null!=(c=f(s,o,r))&&(c+="")&&(h=l.id=c,g.set(h,g.has(h)?L:l)),null!=(c=p(s,o,r))&&(c+="")&&(l.parent=c);for(o=0;o<i;++o)if(c=(l=d[o]).parent){if(!(u=g.get(c)))throw Error("missing: "+c);if(u===L)throw Error("ambiguous: "+c);u.children?u.children.push(l):u.children=[l],l.parent=u}else{if(a)throw Error("multiple roots");a=l}if(!a)throw Error("no root");if(null!=t){for(;a.data===z&&1===a.children.length;)a=a.children[0],--i;for(let t=d.length-1;t>=0&&(l=d[t]).data===z;--t)l.data=null}if(a.parent=D,a.eachBefore(function(t){t.depth=t.parent.depth+1,--i}).eachBefore(N),a.parent=null,i>0)throw Error("cycle");return a}return r.id=function(t){return arguments.length?(e=P(t),r):e},r.parentId=function(t){return arguments.length?(n=P(t),r):n},r.path=function(e){return arguments.length?(t=P(e),r):t},r}function Z(t){let e=t.length;if(e<2)return"";for(;--e>1&&!H(t,e););return t.slice(0,e)}function H(t,e){if("/"===t[e]){let n=0;for(;e>0&&"\\"===t[--e];)++n;if((1&n)==0)return!0}return!1}function Y(t,e){return t.parent===e.parent?1:2}function J(t){var e=t.children;return e?e[0]:t.t}function G(t){var e=t.children;return e?e[e.length-1]:t.t}function K(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function V(){var t=Y,e=1,n=1,r=null;function i(i){var u=function(t){for(var e,n,r,i,s,o=new K(t,0),a=[o];e=a.pop();)if(r=e._.children)for(e.children=Array(s=r.length),i=s-1;i>=0;--i)a.push(n=e.children[i]=new K(r[i],i)),n.parent=e;return(o.parent=new K(null,0)).children=[o],o}(i);if(u.eachAfter(s),u.parent.m=-u.z,u.eachBefore(o),r)i.eachBefore(a);else{var l=i,c=i,h=i;i.eachBefore(function(t){t.x<l.x&&(l=t),t.x>c.x&&(c=t),t.depth>h.depth&&(h=t)});var d=l===c?1:t(l,c)/2,f=d-l.x,p=e/(c.x+d+f),g=n/(h.depth||1);i.eachBefore(function(t){t.x=(t.x+f)*p,t.y=t.depth*g})}return i}function s(e){var n=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(n){!function(t){for(var e,n=0,r=0,i=t.children,s=i.length;--s>=0;)e=i[s],e.z+=n,e.m+=n,n+=e.s+(r+=e.c)}(e);var s=(n[0].z+n[n.length-1].z)/2;i?(e.z=i.z+t(e._,i._),e.m=e.z-s):e.z=s}else i&&(e.z=i.z+t(e._,i._));e.parent.A=function(e,n,r){if(n){for(var i,s,o,a=e,u=e,l=n,c=a.parent.children[0],h=a.m,d=u.m,f=l.m,p=c.m;l=G(l),a=J(a),l&&a;)c=J(c),(u=G(u)).a=e,(o=l.z+f-a.z-h+t(l._,a._))>0&&(function(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}((i=l,s=r,i.a.parent===e.parent?i.a:s),e,o),h+=o,d+=o),f+=l.m,h+=a.m,p+=c.m,d+=u.m;l&&!G(u)&&(u.t=l,u.m+=f-d),a&&!J(c)&&(c.t=a,c.m+=h-p,r=e)}return r}(e,i,e.parent.A||r[0])}function o(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function a(t){t.x*=e,t.y=t.depth*n}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i}K.prototype=Object.create(I.prototype);var X=n(8116);function W(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function Q(t,e){switch(arguments.length){case 0:break;case 1:"function"==typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"==typeof e?this.interpolator(e):this.range(e)}return this}let tt=Symbol("implicit"),te=Math.sqrt(50),tn=Math.sqrt(10),tr=Math.sqrt(2);function ti(t,e,n){let r,i,s;let o=(e-t)/Math.max(0,n),a=Math.floor(Math.log10(o)),u=o/Math.pow(10,a),l=u>=te?10:u>=tn?5:u>=tr?2:1;return(a<0?(r=Math.round(t*(s=Math.pow(10,-a)/l)),i=Math.round(e*s),r/s<t&&++r,i/s>e&&--i,s=-s):(r=Math.round(t/(s=Math.pow(10,a)*l)),i=Math.round(e/s),r*s<t&&++r,i*s>e&&--i),i<r&&.5<=n&&n<2)?ti(t,e,2*n):[r,i,s]}function ts(t,e,n){return ti(t=+t,e=+e,n=+n)[2]}function to(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ta(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function tu(t){let e,n,r;function i(t,r,i=0,s=t.length){if(i<s){if(0!==e(r,r))return s;do{let e=i+s>>>1;0>n(t[e],r)?i=e+1:s=e}while(i<s)}return i}return 2!==t.length?(e=to,n=(e,n)=>to(t(e),n),r=(e,n)=>t(e)-n):(e=t===to||t===ta?t:tl,n=t,r=t),{left:i,center:function(t,e,n=0,s=t.length){let o=i(t,e,n,s-1);return o>n&&r(t[o-1],e)>-r(t[o],e)?o-1:o},right:function(t,r,i=0,s=t.length){if(i<s){if(0!==e(r,r))return s;do{let e=i+s>>>1;0>=n(t[e],r)?i=e+1:s=e}while(i<s)}return i}}}function tl(){return 0}let tc=tu(to),th=tc.right;tc.left,tu(function(t){return null===t?NaN:+t}).center;var td=n(7113),tf=n(2118),tp=n(6536);function tg(t,e){var n,r,i=typeof e;return null==e||"boolean"===i?(0,tp.Z)(e):("number"===i?td.Z:"string"===i?(r=(0,C.ZP)(e))?(e=r,X.ZP):tf.Z:e instanceof C.ZP?X.ZP:e instanceof Date?function(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}:!ArrayBuffer.isView(n=e)||n instanceof DataView?Array.isArray(e)?function(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,s=Array(i),o=Array(r);for(n=0;n<i;++n)s[n]=tg(t[n],e[n]);for(;n<r;++n)o[n]=e[n];return function(t){for(n=0;n<i;++n)o[n]=s[n](t);return o}}:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?function(t,e){var n,r={},i={};for(n in(null===t||"object"!=typeof t)&&(t={}),(null===e||"object"!=typeof e)&&(e={}),e)n in t?r[n]=tg(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}:td.Z:function(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(s){for(n=0;n<r;++n)i[n]=t[n]*(1-s)+e[n]*s;return i}})(t,e)}function tm(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function tv(t){return+t}var ty=[0,1];function t_(t){return t}function tw(t,e){var n;return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n})}function tb(t,e,n){var r=t[0],i=t[1],s=e[0],o=e[1];return i<r?(r=tw(i,r),s=n(o,s)):(r=tw(r,i),s=n(s,o)),function(t){return s(r(t))}}function tk(t,e,n){var r=Math.min(t.length,e.length)-1,i=Array(r),s=Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=tw(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(e){var n=th(t,e,1,r)-1;return s[n](i[n](e))}}var tx=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function tT(t){var e;if(!(e=tx.exec(t)))throw Error("invalid format: "+t);return new tS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function tS(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function tE(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function t$(t){return(t=tE(Math.abs(t)))?t[1]:NaN}function tA(t,e){var n=tE(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+Array(i-r.length+2).join("0")}tT.prototype=tS.prototype,tS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var tC={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>tA(100*t,e),r:tA,s:function(t,e){var n=tE(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(x=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return s===o?r:s>o?r+Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+Array(1-s).join("0")+tE(t,Math.max(0,e+s-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function tP(t){return t}var tj=Array.prototype.map,tO=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function tM(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){if(e=+e,t=+t,!((n=+n)>0))return[];if(t===e)return[t];let r=e<t,[i,s,o]=r?ti(e,t,n):ti(t,e,n);if(!(s>=i))return[];let a=s-i+1,u=Array(a);if(r){if(o<0)for(let t=0;t<a;++t)u[t]=-((s-t)/o);else for(let t=0;t<a;++t)u[t]=(s-t)*o}else if(o<0)for(let t=0;t<a;++t)u[t]=-((i+t)/o);else for(let t=0;t<a;++t)u[t]=(i+t)*o;return u}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return function(t,e,n,r){var i,s,o=function(t,e,n){e=+e,t=+t,n=+n;let r=e<t,i=r?ts(e,t,n):ts(t,e,n);return(r?-1:1)*(i<0?-(1/i):i)}(t,e,n);switch((r=tT(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(s=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(t$(a)/3)))-t$(Math.abs(o))))||(r.precision=s),E(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(s=Math.max(0,t$(Math.abs(Math.max(Math.abs(t),Math.abs(e)))-(i=Math.abs(i=o)))-t$(i))+1)||(r.precision=s-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(s=Math.max(0,-t$(Math.abs(o))))||(r.precision=s-("%"===r.type)*2)}return S(r)}(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,s=e(),o=0,a=s.length-1,u=s[o],l=s[a],c=10;for(l<u&&(i=u,u=l,l=i,i=o,o=a,a=i);c-- >0;){if((i=ts(u,l,n))===r)return s[o]=u,s[a]=l,e(s);if(i>0)u=Math.floor(u/i)*i,l=Math.ceil(l/i)*i;else if(i<0)u=Math.ceil(u*i)/i,l=Math.floor(l*i)/i;else break;r=i}return t},t}S=(T=function(t){var e,n,r,i=void 0===t.grouping||void 0===t.thousands?tP:(e=tj.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,s=[],o=0,a=e[0],u=0;i>0&&a>0&&(u+a+1>r&&(a=Math.max(1,r-u)),s.push(t.substring(i-=a,i+a)),!((u+=a+1)>r));)a=e[o=(o+1)%e.length];return s.reverse().join(n)}),s=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?tP:(r=tj.call(t.numerals,String),function(t){return t.replace(/[0-9]/g,function(t){return r[+t]})}),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"−":t.minus+"",h=void 0===t.nan?"NaN":t.nan+"";function d(t){var e=(t=tT(t)).fill,n=t.align,r=t.sign,d=t.symbol,f=t.zero,p=t.width,g=t.comma,m=t.precision,v=t.trim,y=t.type;"n"===y?(g=!0,y="g"):tC[y]||(void 0===m&&(m=12),v=!0,y="g"),(f||"0"===e&&"="===n)&&(f=!0,e="0",n="=");var _="$"===d?s:"#"===d&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",w="$"===d?o:/[%p]/.test(y)?l:"",b=tC[y],k=/[defgprs%]/.test(y);function T(t){var s,o,l,d=_,T=w;if("c"===y)T=b(t)+T,t="";else{var S=(t=+t)<0||1/t<0;if(t=isNaN(t)?h:b(Math.abs(t),m),v&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),S&&0==+t&&"+"!==r&&(S=!1),d=(S?"("===r?r:c:"-"===r||"("===r?"":r)+d,T=("s"===y?tO[8+x/3]:"")+T+(S&&"("===r?")":""),k){for(s=-1,o=t.length;++s<o;)if(48>(l=t.charCodeAt(s))||l>57){T=(46===l?a+t.slice(s+1):t.slice(s))+T,t=t.slice(0,s);break}}}g&&!f&&(t=i(t,1/0));var E=d.length+t.length+T.length,$=E<p?Array(p-E+1).join(e):"";switch(g&&f&&(t=i($+t,$.length?p-T.length:1/0),$=""),n){case"<":t=d+t+T+$;break;case"=":t=d+$+t+T;break;case"^":t=$.slice(0,E=$.length>>1)+d+t+T+$.slice(E);break;default:t=$+d+t+T}return u(t)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),T.toString=function(){return t+""},T}return{format:d,formatPrefix:function(t,e){var n=d(((t=tT(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(t$(e)/3))),i=Math.pow(10,-r),s=tO[8+r/3];return function(t){return n(i*t)+s}}}}({thousands:",",grouping:[3],currency:["$",""]})).format,E=T.formatPrefix;var tR=n(7807);function tU(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function tN(t){return function(){return t}}function tI(t){this._context=t}function tD(t){return new tI(t)}Array.prototype.slice,tI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};let tL=Math.PI,tz=2*tL,tF=tz-1e-6;function tB(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}class tq{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?tB:function(t){let e=Math.floor(t);if(!(e>=0))throw Error(`invalid digits: ${t}`);if(e>15)return tB;let n=10**e;return function(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=Math.round(arguments[e]*n)/n+t[e]}}(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,n,r){this._append`Q${+t},${+e},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(t,e,n,r,i,s){this._append`C${+t},${+e},${+n},${+r},${this._x1=+i},${this._y1=+s}`}arcTo(t,e,n,r,i){if(t=+t,e=+e,n=+n,r=+r,(i=+i)<0)throw Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,a=n-t,u=r-e,l=s-t,c=o-e,h=l*l+c*c;if(null===this._x1)this._append`M${this._x1=t},${this._y1=e}`;else if(h>1e-6){if(Math.abs(c*a-u*l)>1e-6&&i){let d=n-s,f=r-o,p=a*a+u*u,g=Math.sqrt(p),m=Math.sqrt(h),v=i*Math.tan((tL-Math.acos((p+h-(d*d+f*f))/(2*g*m)))/2),y=v/m,_=v/g;Math.abs(y-1)>1e-6&&this._append`L${t+y*l},${e+y*c}`,this._append`A${i},${i},0,0,${+(c*d>l*f)},${this._x1=t+_*a},${this._y1=e+_*u}`}else this._append`L${this._x1=t},${this._y1=e}`}}arc(t,e,n,r,i,s){if(t=+t,e=+e,s=!!s,(n=+n)<0)throw Error(`negative radius: ${n}`);let o=n*Math.cos(r),a=n*Math.sin(r),u=t+o,l=e+a,c=1^s,h=s?r-i:i-r;null===this._x1?this._append`M${u},${l}`:(Math.abs(this._x1-u)>1e-6||Math.abs(this._y1-l)>1e-6)&&this._append`L${u},${l}`,n&&(h<0&&(h=h%tz+tz),h>tF?this._append`A${n},${n},0,1,${c},${t-o},${e-a}A${n},${n},0,1,${c},${this._x1=u},${this._y1=l}`:h>1e-6&&this._append`A${n},${n},0,${+(h>=tL)},${c},${this._x1=t+n*Math.cos(i)},${this._y1=e+n*Math.sin(i)}`)}rect(t,e,n,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function tZ(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(null==n)e=null;else{let t=Math.floor(n);if(!(t>=0))throw RangeError(`invalid digits: ${n}`);e=t}return t},()=>new tq(e)}function tH(t){return t[0]}function tY(t){return t[1]}function tJ(t,e){var n=tN(!0),r=null,i=tD,s=null,o=tZ(a);function a(a){var u,l,c,h=(a=tU(a)).length,d=!1;for(null==r&&(s=i(c=o())),u=0;u<=h;++u)!(u<h&&n(l=a[u],u,a))===d&&((d=!d)?s.lineStart():s.lineEnd()),d&&s.point(+t(l,u,a),+e(l,u,a));if(c)return s=null,c+""||null}return t="function"==typeof t?t:void 0===t?tH:tN(t),e="function"==typeof e?e:void 0===e?tY:tN(e),a.x=function(e){return arguments.length?(t="function"==typeof e?e:tN(+e),a):t},a.y=function(t){return arguments.length?(e="function"==typeof t?t:tN(+t),a):e},a.defined=function(t){return arguments.length?(n="function"==typeof t?t:tN(!!t),a):n},a.curve=function(t){return arguments.length?(i=t,null!=r&&(s=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=s=null:s=i(r=t),a):r},a}function tG(t,e,n){var r=null,i=tN(!0),s=null,o=tD,a=null,u=tZ(l);function l(l){var c,h,d,f,p,g=(l=tU(l)).length,m=!1,v=Array(g),y=Array(g);for(null==s&&(a=o(p=u())),c=0;c<=g;++c){if(!(c<g&&i(f=l[c],c,l))===m){if(m=!m)h=c,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),d=c-1;d>=h;--d)a.point(v[d],y[d]);a.lineEnd(),a.areaEnd()}}m&&(v[c]=+t(f,c,l),y[c]=+e(f,c,l),a.point(r?+r(f,c,l):v[c],n?+n(f,c,l):y[c]))}if(p)return a=null,p+""||null}function c(){return tJ().defined(i).curve(o).context(s)}return t="function"==typeof t?t:void 0===t?tH:tN(+t),e="function"==typeof e?e:void 0===e?tN(0):tN(+e),n="function"==typeof n?n:void 0===n?tY:tN(+n),l.x=function(e){return arguments.length?(t="function"==typeof e?e:tN(+e),r=null,l):t},l.x0=function(e){return arguments.length?(t="function"==typeof e?e:tN(+e),l):t},l.x1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:tN(+t),l):r},l.y=function(t){return arguments.length?(e="function"==typeof t?t:tN(+t),n=null,l):e},l.y0=function(t){return arguments.length?(e="function"==typeof t?t:tN(+t),l):e},l.y1=function(t){return arguments.length?(n=null==t?null:"function"==typeof t?t:tN(+t),l):n},l.lineX0=l.lineY0=function(){return c().x(t).y(e)},l.lineY1=function(){return c().x(t).y(n)},l.lineX1=function(){return c().x(r).y(e)},l.defined=function(t){return arguments.length?(i="function"==typeof t?t:tN(!!t),l):i},l.curve=function(t){return arguments.length?(o=t,null!=s&&(a=o(s)),l):o},l.context=function(t){return arguments.length?(null==t?s=a=null:a=o(s=t),l):s},l}function tK(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function tV(t){this._context=t}function tX(t){return new tV(t)}tq.prototype,tV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:tK(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:tK(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};let tW=new Date,tQ=new Date;function t0(t,e,n,r){function i(e){return t(e=0==arguments.length?new Date:new Date(+e)),e}return i.floor=e=>(t(e=new Date(+e)),e),i.ceil=n=>(t(n=new Date(n-1)),e(n,1),t(n),n),i.round=t=>{let e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=(t,n)=>(e(t=new Date(+t),null==n?1:Math.floor(n)),t),i.range=(n,r,s)=>{let o;let a=[];if(n=i.ceil(n),s=null==s?1:Math.floor(s),!(n<r)||!(s>0))return a;do a.push(o=new Date(+n)),e(n,s),t(n);while(o<n&&n<r);return a},i.filter=n=>t0(e=>{if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},(t,r)=>{if(t>=t){if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}}),n&&(i.count=(e,r)=>(tW.setTime(+e),tQ.setTime(+r),t(tW),t(tQ),Math.floor(n(tW,tQ))),i.every=t=>isFinite(t=Math.floor(t))&&t>0?t>1?i.filter(r?e=>r(e)%t==0:e=>i.count(0,e)%t==0):i:null),i}let t1=t0(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/864e5,t=>t.getDate()-1);t1.range;let t2=t0(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/864e5,t=>t.getUTCDate()-1);function t3(t){return t0(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(t,e)=>{t.setDate(t.getDate()+7*e)},(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/6048e5)}t2.range,t0(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/864e5,t=>Math.floor(t/864e5)).range;let t4=t3(0),t5=t3(1),t6=t3(2),t7=t3(3),t8=t3(4),t9=t3(5),et=t3(6);function ee(t){return t0(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+7*e)},(t,e)=>(e-t)/6048e5)}t4.range,t5.range,t6.range,t7.range,t8.range,t9.range,et.range;let en=ee(0),er=ee(1),ei=ee(2),es=ee(3),eo=ee(4),ea=ee(5),eu=ee(6);en.range,er.range,ei.range,es.range,eo.range,ea.range,eu.range,t0(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth()).range;let el=t0(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth()),ec=el.range,eh=t0(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());eh.every=t=>isFinite(t=Math.floor(t))&&t>0?t0(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)}):null,eh.range;let ed=t0(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());function ef(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ep(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function eg(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}ed.every=t=>isFinite(t=Math.floor(t))&&t>0?t0(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null,ed.range;var em={"-":"",_:" ",0:"0"},ev=/^\s*\d+/,ey=/^%/,e_=/[\\^$*+?|[\]().{}]/g;function ew(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?Array(n-s+1).join(e)+i:i)}function eb(t){return t.replace(e_,"\\$&")}function ek(t){return RegExp("^(?:"+t.map(eb).join("|")+")","i")}function ex(t){return new Map(t.map((t,e)=>[t.toLowerCase(),e]))}function eT(t,e,n){var r=ev.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function eS(t,e,n){var r=ev.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function eE(t,e,n){var r=ev.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function e$(t,e,n){var r=ev.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function eA(t,e,n){var r=ev.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function eC(t,e,n){var r=ev.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function eP(t,e,n){var r=ev.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ej(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function eO(t,e,n){var r=ev.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function eM(t,e,n){var r=ev.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function eR(t,e,n){var r=ev.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function eU(t,e,n){var r=ev.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function eN(t,e,n){var r=ev.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function eI(t,e,n){var r=ev.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function eD(t,e,n){var r=ev.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function eL(t,e,n){var r=ev.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ez(t,e,n){var r=ev.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function eF(t,e,n){var r=ey.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function eB(t,e,n){var r=ev.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function eq(t,e,n){var r=ev.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function eZ(t,e){return ew(t.getDate(),e,2)}function eH(t,e){return ew(t.getHours(),e,2)}function eY(t,e){return ew(t.getHours()%12||12,e,2)}function eJ(t,e){return ew(1+t1.count(eh(t),t),e,3)}function eG(t,e){return ew(t.getMilliseconds(),e,3)}function eK(t,e){return eG(t,e)+"000"}function eV(t,e){return ew(t.getMonth()+1,e,2)}function eX(t,e){return ew(t.getMinutes(),e,2)}function eW(t,e){return ew(t.getSeconds(),e,2)}function eQ(t){var e=t.getDay();return 0===e?7:e}function e0(t,e){return ew(t4.count(eh(t)-1,t),e,2)}function e1(t){var e=t.getDay();return e>=4||0===e?t8(t):t8.ceil(t)}function e2(t,e){return t=e1(t),ew(t8.count(eh(t),t)+(4===eh(t).getDay()),e,2)}function e3(t){return t.getDay()}function e4(t,e){return ew(t5.count(eh(t)-1,t),e,2)}function e5(t,e){return ew(t.getFullYear()%100,e,2)}function e6(t,e){return ew((t=e1(t)).getFullYear()%100,e,2)}function e7(t,e){return ew(t.getFullYear()%1e4,e,4)}function e8(t,e){var n=t.getDay();return ew((t=n>=4||0===n?t8(t):t8.ceil(t)).getFullYear()%1e4,e,4)}function e9(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ew(e/60|0,"0",2)+ew(e%60,"0",2)}function nt(t,e){return ew(t.getUTCDate(),e,2)}function ne(t,e){return ew(t.getUTCHours(),e,2)}function nn(t,e){return ew(t.getUTCHours()%12||12,e,2)}function nr(t,e){return ew(1+t2.count(ed(t),t),e,3)}function ni(t,e){return ew(t.getUTCMilliseconds(),e,3)}function ns(t,e){return ni(t,e)+"000"}function no(t,e){return ew(t.getUTCMonth()+1,e,2)}function na(t,e){return ew(t.getUTCMinutes(),e,2)}function nu(t,e){return ew(t.getUTCSeconds(),e,2)}function nl(t){var e=t.getUTCDay();return 0===e?7:e}function nc(t,e){return ew(en.count(ed(t)-1,t),e,2)}function nh(t){var e=t.getUTCDay();return e>=4||0===e?eo(t):eo.ceil(t)}function nd(t,e){return t=nh(t),ew(eo.count(ed(t),t)+(4===ed(t).getUTCDay()),e,2)}function nf(t){return t.getUTCDay()}function np(t,e){return ew(er.count(ed(t)-1,t),e,2)}function ng(t,e){return ew(t.getUTCFullYear()%100,e,2)}function nm(t,e){return ew((t=nh(t)).getUTCFullYear()%100,e,2)}function nv(t,e){return ew(t.getUTCFullYear()%1e4,e,4)}function ny(t,e){var n=t.getUTCDay();return ew((t=n>=4||0===n?eo(t):eo.ceil(t)).getUTCFullYear()%1e4,e,4)}function n_(){return"+0000"}function nw(){return"%"}function nb(t){return+t}function nk(t){return Math.floor(+t/1e3)}($=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,o=t.shortDays,a=t.months,u=t.shortMonths,l=ek(i),c=ex(i),h=ek(s),d=ex(s),f=ek(o),p=ex(o),g=ek(a),m=ex(a),v=ek(u),y=ex(u),_={a:function(t){return o[t.getDay()]},A:function(t){return s[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return a[t.getMonth()]},c:null,d:eZ,e:eZ,f:eK,g:e6,G:e8,H:eH,I:eY,j:eJ,L:eG,m:eV,M:eX,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:nb,s:nk,S:eW,u:eQ,U:e0,V:e2,w:e3,W:e4,x:null,X:null,y:e5,Y:e7,Z:e9,"%":nw},w={a:function(t){return o[t.getUTCDay()]},A:function(t){return s[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return a[t.getUTCMonth()]},c:null,d:nt,e:nt,f:ns,g:nm,G:ny,H:ne,I:nn,j:nr,L:ni,m:no,M:na,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:nb,s:nk,S:nu,u:nl,U:nc,V:nd,w:nf,W:np,x:null,X:null,y:ng,Y:nv,Z:n_,"%":nw},b={a:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=m.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return T(t,e,n,r)},d:eR,e:eR,f:ez,g:eP,G:eC,H:eN,I:eN,j:eU,L:eL,m:eM,M:eI,p:function(t,e,n){var r=l.exec(e.slice(n));return r?(t.p=c.get(r[0].toLowerCase()),n+r[0].length):-1},q:eO,Q:eB,s:eq,S:eD,u:eS,U:eE,V:e$,w:eT,W:eA,x:function(t,e,r){return T(t,n,e,r)},X:function(t,e,n){return T(t,r,e,n)},y:eP,Y:eC,Z:ej,"%":eF};function k(t,e){return function(n){var r,i,s,o=[],a=-1,u=0,l=t.length;for(n instanceof Date||(n=new Date(+n));++a<l;)37===t.charCodeAt(a)&&(o.push(t.slice(u,a)),null!=(i=em[r=t.charAt(++a)])?r=t.charAt(++a):i="e"===r?" ":"0",(s=e[r])&&(r=s(n,i)),o.push(r),u=a+1);return o.push(t.slice(u,a)),o.join("")}}function x(t,e){return function(n){var r,i,s=eg(1900,void 0,1);if(T(s,t,n+="",0)!=n.length)return null;if("Q"in s)return new Date(s.Q);if("s"in s)return new Date(1e3*s.s+("L"in s?s.L:0));if(!e||"Z"in s||(s.Z=0),"p"in s&&(s.H=s.H%12+12*s.p),void 0===s.m&&(s.m="q"in s?s.q:0),"V"in s){if(s.V<1||s.V>53)return null;"w"in s||(s.w=1),"Z"in s?(r=(i=(r=ep(eg(s.y,0,1))).getUTCDay())>4||0===i?er.ceil(r):er(r),r=t2.offset(r,(s.V-1)*7),s.y=r.getUTCFullYear(),s.m=r.getUTCMonth(),s.d=r.getUTCDate()+(s.w+6)%7):(r=(i=(r=ef(eg(s.y,0,1))).getDay())>4||0===i?t5.ceil(r):t5(r),r=t1.offset(r,(s.V-1)*7),s.y=r.getFullYear(),s.m=r.getMonth(),s.d=r.getDate()+(s.w+6)%7)}else("W"in s||"U"in s)&&("w"in s||(s.w="u"in s?s.u%7:"W"in s?1:0),i="Z"in s?ep(eg(s.y,0,1)).getUTCDay():ef(eg(s.y,0,1)).getDay(),s.m=0,s.d="W"in s?(s.w+6)%7+7*s.W-(i+5)%7:s.w+7*s.U-(i+6)%7);return"Z"in s?(s.H+=s.Z/100|0,s.M+=s.Z%100,ep(s)):ef(s)}}function T(t,e,n,r){for(var i,s,o=0,a=e.length,u=n.length;o<a;){if(r>=u)return -1;if(37===(i=e.charCodeAt(o++))){if(!(s=b[(i=e.charAt(o++))in em?e.charAt(o++):i])||(r=s(t,n,r))<0)return -1}else if(i!=n.charCodeAt(r++))return -1}return r}return _.x=k(n,_),_.X=k(r,_),_.c=k(e,_),w.x=k(n,w),w.X=k(r,w),w.c=k(e,w),{format:function(t){var e=k(t+="",_);return e.toString=function(){return t},e},parse:function(t){var e=x(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=k(t+="",w);return e.toString=function(){return t},e},utcParse:function(t){var e=x(t+="",!0);return e.toString=function(){return t},e}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})).format,$.parse,A=$.utcFormat,$.utcParse,n(2333)},9512:function(t,e,n){"use strict";n.d(e,{F:function(){return l},ThemeProvider:function(){return c}});var r=n(2265),i=["light","dark"],s="(prefers-color-scheme: dark)",o="undefined"==typeof window,a=r.createContext(void 0),u={setTheme:t=>{},themes:[]},l=()=>{var t;return null!=(t=r.useContext(a))?t:u},c=t=>r.useContext(a)?t.children:r.createElement(d,{...t}),h=["light","dark"],d=t=>{let{forcedTheme:e,disableTransitionOnChange:n=!1,enableSystem:o=!0,enableColorScheme:u=!0,storageKey:l="theme",themes:c=h,defaultTheme:d=o?"system":"light",attribute:v="data-theme",value:y,children:_,nonce:w}=t,[b,k]=r.useState(()=>p(l,d)),[x,T]=r.useState(()=>p(l)),S=y?Object.values(y):c,E=r.useCallback(t=>{let e=t;if(!e)return;"system"===t&&o&&(e=m());let r=y?y[e]:e,s=n?g():null,a=document.documentElement;if("class"===v?(a.classList.remove(...S),r&&a.classList.add(r)):r?a.setAttribute(v,r):a.removeAttribute(v),u){let t=i.includes(d)?d:null,n=i.includes(e)?e:t;a.style.colorScheme=n}null==s||s()},[]),$=r.useCallback(t=>{let e="function"==typeof t?t(t):t;k(e);try{localStorage.setItem(l,e)}catch(t){}},[e]),A=r.useCallback(t=>{T(m(t)),"system"===b&&o&&!e&&E("system")},[b,e]);r.useEffect(()=>{let t=window.matchMedia(s);return t.addListener(A),A(t),()=>t.removeListener(A)},[A]),r.useEffect(()=>{let t=t=>{t.key===l&&$(t.newValue||d)};return window.addEventListener("storage",t),()=>window.removeEventListener("storage",t)},[$]),r.useEffect(()=>{E(null!=e?e:b)},[e,b]);let C=r.useMemo(()=>({theme:b,setTheme:$,forcedTheme:e,resolvedTheme:"system"===b?x:b,themes:o?[...c,"system"]:c,systemTheme:o?x:void 0}),[b,$,e,x,o,c]);return r.createElement(a.Provider,{value:C},r.createElement(f,{forcedTheme:e,disableTransitionOnChange:n,enableSystem:o,enableColorScheme:u,storageKey:l,themes:c,defaultTheme:d,attribute:v,value:y,children:_,attrs:S,nonce:w}),_)},f=r.memo(t=>{let{forcedTheme:e,storageKey:n,attribute:o,enableSystem:a,enableColorScheme:u,defaultTheme:l,value:c,attrs:h,nonce:d}=t,f="system"===l,p="class"===o?"var d=document.documentElement,c=d.classList;".concat("c.remove(".concat(h.map(t=>"'".concat(t,"'")).join(","),")"),";"):"var d=document.documentElement,n='".concat(o,"',s='setAttribute';"),g=u?(i.includes(l)?l:null)?"if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'".concat(l,"'"):"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],r=c?c[t]:t,s=e?t+"|| ''":"'".concat(r,"'"),a="";return u&&n&&!e&&i.includes(t)&&(a+="d.style.colorScheme = '".concat(t,"';")),"class"===o?e||r?a+="c.add(".concat(s,")"):a+="null":r&&(a+="d[s](n,".concat(s,")")),a},v=e?"!function(){".concat(p).concat(m(e),"}()"):a?"!function(){try{".concat(p,"var e=localStorage.getItem('").concat(n,"');if('system'===e||(!e&&").concat(f,")){var t='").concat(s,"',m=window.matchMedia(t);if(m.media!==t||m.matches){").concat(m("dark"),"}else{").concat(m("light"),"}}else if(e){").concat(c?"var x=".concat(JSON.stringify(c),";"):"").concat(m(c?"x[e]":"e",!0),"}").concat(f?"":"else{"+m(l,!1,!1)+"}").concat(g,"}catch(e){}}()"):"!function(){try{".concat(p,"var e=localStorage.getItem('").concat(n,"');if(e){").concat(c?"var x=".concat(JSON.stringify(c),";"):"").concat(m(c?"x[e]":"e",!0),"}else{").concat(m(l,!1,!1),";}").concat(g,"}catch(t){}}();");return r.createElement("script",{nonce:d,dangerouslySetInnerHTML:{__html:v}})}),p=(t,e)=>{let n;if(!o){try{n=localStorage.getItem(t)||void 0}catch(t){}return n||e}},g=()=>{let t=document.createElement("style");return t.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},m=t=>(t||(t=window.matchMedia(s)),t.matches?"dark":"light")}}]);